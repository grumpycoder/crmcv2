!function(){var t=angular.module("app",["ngComponentRouter","ngAnimate","ui.bootstrap","ngMessages","onScreenKeyboard","utils.autofocus","treasure-overlay-spinner","LocalStorageModule"]);t.component("kiosk",{template:"<ng-outlet>Loading ..</ng-outlet >",$routeConfig:[{path:"/",name:"Welcome",component:"welcome",useAsDefault:!0},{path:"/register",name:"Register",component:"register"},{path:"/pledge",name:"Pledge",component:"pledge"},{path:"/finish",name:"Finish",component:"finish"},{path:"/search",name:"Search",component:"search"},{path:"/results",name:"Results",component:"results"},{path:"/settings",name:"Settings",component:"settings"}]}),t.value("$routerRootComponent","kiosk"),t.value("config",{host:window.location.hostname,apiUrlBase:"http://localhost:49960/api/",apiUrl:"http://localhost:49960/api/visitor",hubUrl:"http://localhost:49960/signalr",redirectTimeout:3e4,finishTimeout:4,kiosk:1}),t.run(["config",function(t){switch(t.host){case"crmckiosk":t.apiUrlBase="http://crmc/api/",t.apiUrl="http://crmc/api/visitor",t.hubUrl="http://crmc/signalr";break;case"crmckiosk-test.splcenter.org":t.apiUrlBase="http://crmc-test/api/",t.apiUrl="http://crmc-test/api/visitor",t.hubUrl="http://crmc-test/signalr";break;case"crmckiosk.splcenter.org":t.apiUrlBase="http://crmc/api/",t.apiUrl="http://crmc/api/visitor",t.hubUrl="http://crmc/signalr"}}])}();
!function(){function n(n,o,t,i){var e=this;e.$onInit=function(){console.log("finish init",n),e.kiosk=i.get("kiosk")||1,$.connection.hub.url=n.hubUrl;var t=$.connection.nameNotificationHub;$.connection.hub.start().done(function(){console.log("hub connection started"),t.server.addName(e.kiosk,o.get())}),e.countDown_tick=n.finishTimeout,e.startTimer()},this.$routerOnActivate=function(n){e.$router=this.$router},e.startTimer=function(){e.countDown_tick<=0?(o.clear(),console.log("timer finished"),e.$router.navigate(["Welcome"])):(e.countDown_tick--,t(e.startTimer,1e3))}}var o=angular.module("app");o.component("finish",{bindings:{$router:"<"},templateUrl:"app/finish.component.html",controller:["config","visitorService","$timeout","localStorageService",n]})}();
!function(){function e(e,t,n){var o,i=this;i.$onInit=function(){console.log("pledge init"),i.visitor=n.get(),i.startTimer()},this.$routerOnActivate=function(e){},i.gotoWelcome=function(){n.clear(),e.cancel(o),this.$router.navigate(["Welcome"])},i.gotoRegister=function(){e.cancel(o),this.$router.navigate(["Register"])},i.pledge=function(){n.get().id?console.log("returning visitor",n.get()):(console.log("save new visitor",n.get()),n.save()),e.cancel(o),this.$router.navigate(["Finish"])},i.startTimer=function(){e.cancel(o),o=e(function(){n.clear(),i.$router.navigate(["Welcome"])},t.redirectTimeout)}}var t=angular.module("app");t.component("pledge",{bindings:{$router:"<"},templateUrl:"app/pledge.component.html",controller:["$timeout","config","visitorService",e]})}();
!function(){function t(t,e,r,n,o,i){function a(){n.$watchCollection("$ctrl.visitor",function(t){if(void 0!==t.firstname){var e=t.firstname+t.lastname;if(e=e.replace(/ /g,""),e.length>0){var r=c(e.toUpperCase());u.form.lastname.$setValidity("blacklist",r)}}})}function c(t){for(var e=i.get(),r=0;r<e.length;r++)if(t.match((".*"+e[r].trim()+".*").replace(" ",".*")))return!1;return!0}var l,u=this;u.$onInit=function(){u.visitor=e.get(),o.get(t.apiUrlBase+"censor").then(function(e){return console.log("getting data from uri"),o.get(t.apiUrlBase+"censor").then(function(t){var e=[];t.data.length>0&&t.data.forEach(function(t){null!==t.word&&e.push(t.word.replace(/ /g,"").toUpperCase())}),i.set(e)})}),a(),u.startTimer()},this.$routerOnActivate=function(t){u.$router=this.$router},u.gotoWelcome=function(){r.cancel(l),this.$router.navigate(["Welcome"])},u.gotoPledge=function(){r.cancel(l),this.$router.navigate(["Pledge"])},u.startTimer=function(){r.cancel(l),l=r(function(){e.clear(),u.$router.navigate(["Welcome"])},t.redirectTimeout)}}var e=angular.module("app");e.component("register",{bindings:{$router:"<"},templateUrl:"app/register.component.html",controller:["config","visitorService","$timeout","$scope","$http","censorService",t]})}();
!function(){function e(e,t,n){var r,o,a=this,c=10;a.searchModel={page:1,pageSize:c},a.paging={currentPage:1},a.$onInit=function(){console.log("search init");const e=n.getTerm().split(" ");e.length>1?(a.searchModel.firstname=e[0],a.searchModel.lastname=e[1]):a.searchModel.lastname=e[0],a.search()},a.gotoWelcome=function(){t.cancel(r),this.$router.navigate(["Welcome"])},a.gotoSearch=function(){t.cancel(r),this.$router.navigate(["Search"])},a.pledge=function(){n.clearTerm(),t.cancel(r),this.$router.navigate(["Pledge"])},a.toggleName=function(e){a.visitor=e,n.set(e),a.startTimer()},a.search=function(e){return o=e,a.loading=!0,n.search(a.searchModel).then(function(e){a.visitors=e.results,a.searchModel=e,delete a.searchModel.results,a.startTimer(),a.loading=!1})},a.paged=function(){a.visitor=null,a.search(o)},a.startTimer=function(){t.cancel(r),r=t(function(){n.clear(),a.$router.navigate(["Welcome"])},e.redirectTimeout)}}var t=angular.module("app");t.component("results",{bindings:{$router:"<"},templateUrl:"app/results.component.html",controller:["config","$timeout","visitorService",e]})}();
!function(){function e(e,t,r){var n,o=this;o.$onInit=function(){console.log("search init"),o.searchTerm=t.getTerm(),o.startTimer()},o.gotoWelcome=function(){t.clear(),r.cancel(n),this.$router.navigate(["Welcome"])},o.gotoSearchResults=function(){t.setTerm(o.searchTerm),r.cancel(n),this.$router.navigate(["Results"])},o.startTimer=function(){r.cancel(n),n=r(function(){t.clear(),o.$router.navigate(["Welcome"])},e.redirectTimeout)}}var t=angular.module("app");t.component("search",{bindings:{$router:"<"},templateUrl:"app/search.component.html",controller:["config","visitorService","$timeout",e]})}();
!function(){function o(o){var t=this;t.availableKiosks=[1,2,3,4],t.kiosk=1,t.$onInit=function(){console.log("settings init"),t.kiosk=o.get("kiosk")||1},this.$routerOnActivate=function(o){},t.gotoWelcome=function(){this.$router.navigate(["Welcome"])},t.kioskChange=function(){o.set("kiosk",t.kiosk)}}var t=angular.module("app");t.component("settings",{bindings:{$router:"<"},templateUrl:"app/settings.component.html",controller:["localStorageService",o]})}();
!function(){function t(){var t=this,n="";t.$onInit=function(){console.log("welcome init")},this.$routerOnActivate=function(t){},t.gotoRegister=function(){this.$router.navigate(["Register"])},t.gotoSearch=function(){this.$router.navigate(["Search"])},t.unlock=function(t){n.length>4?n=t:n+=t.toString(),"1212"===n&&this.$router.navigate(["Settings"])}}var n=angular.module("app");n.component("welcome",{bindings:{$router:"<"},templateUrl:"app/welcome.component.html",controller:[t]})}();
angular.module("onScreenKeyboard",["ngSanitize"]).directive("onScreenKeyboard",["$timeout","$document",function(t,e){"use strict";return{restrict:"E",bindToController:!0,controllerAs:"ctrl",scope:{rows:"=?",uppercaseAllWords:"@"},controller:["$sce",function(t){var e=this;e.rows||(e.rows=[["1","2","3","4","5","6","7","8","9","0",{type:"erase",colspan:2,text:"&lArr;"}],["q","w","e","r","t","y","u","i","o","p","@"],["a","s","d","f","g","h","j","k","l","-","_",{type:"margin"}],[{type:"shift"},"z","x","c","v","b","n","m",",",".",{type:"shift"}],[{type:"margin"},{type:"space",colspan:9,text:" "}]]),e.getText=function(e){if("margin"===e.type)return"";if("shift"===e.type)return"&dArr;";var r=e.text||e;return r&&r.indexOf("&")>-1?t.trustAsHtml(r):r}}],link:function(r,n,s){var a=r.ctrl;n.bind("contextmenu",function(t){return t.preventDefault(),!1}),a.isUpperCase=!1,a.lastInputCtrl=null,a.startPos=null,a.endPos=null,a.printKeyStroke=function(t){if(a.lastInputCtrl){var e=angular.element(t.target||t.srcElement);if(e.hasClass("erase"))return void a.eraseKeyStroke();if(e.hasClass("shift"))return void a.inverseCase();var r=angular.element(a.lastInputCtrl),n=r.val(),s=n.substring(0,a.startPos),l=n.substring(a.endPos,n.length);r.val(s+e.text()+l),r.triggerHandler("change"),a.startPos++,a.endPos++,a.setKeyboardLayout()}},a.inverseCase=function(){},a.refocus=function(){a.lastInputCtrl.focus()},a.eraseKeyStroke=function(){if(a.lastInputCtrl){var t=a.startPos!==a.endPos,e=angular.element(a.lastInputCtrl),r=e.val(),n=r.substring(0,t?a.startPos:a.startPos-1),s=r.substring(a.endPos,r.length);e.val(n+s),e.triggerHandler("change"),t?a.endPos=a.startPos:(a.startPos--,a.endPos--),a.lastInputCtrl.selectionStart=a.startPos,a.lastInputCtrl.selectionEnd=a.startPos,a.setKeyboardLayout(),a.refocus()}},a.setKeyboardLayout=function(){return a.lastInputCtrl?void(a.lastInputCtrl.className&&a.isUpperCase?a.inverseCase():0===angular.element(a.lastInputCtrl).val().length?a.isUpperCase||(a.isUpperCase=!1,a.inverseCase()):" "===angular.element(a.lastInputCtrl).val().slice(-1)&&!a.isUpperCase&&s.hasOwnProperty("uppercaseAllWords")?a.inverseCase():(a.isUpperCase=!0,a.inverseCase())):(a.isUpperCase=!1,void a.inverseCase())},e.find("input").bind("blur focus",function(){a.setKeyboardLayout(),a.lastInputCtrl=this,a.lastInputCtrl&&"checkbox"!==a.lastInputCtrl.type&&(a.startPos=a.lastInputCtrl.selectionStart,a.endPos=a.lastInputCtrl.selectionEnd)}).bind("keydown",function(){a.startPos=a.lastInputCtrl.selectionStart,a.endPos=a.lastInputCtrl.selectionEnd}),t(function(){a.inverseCase()},0)},templateUrl:"/templates/angular-on-screen-keyboard.html"}}]),angular.module("onScreenKeyboard").run(["$templateCache",function(t){"use strict";t.put("/templates/angular-on-screen-keyboard.html","<div class=keyboard><table><tr ng-repeat=\"row in ctrl.rows\"><td ng-repeat=\"key in row\" ng-click=ctrl.printKeyStroke($event) colspan=\"{{key.colspan || 1}}\" ng-class=\"{'button': key.type !== 'margin', 'letter': key.type !== 'margin'}\" class={{key.type}} ng-bind-html=ctrl.getText(key)></td></tr></table></div>")}]);
angular.module("app").directive("blacklist",["$timeout","$q","censorService",function(e,r,t){return{restrict:"A",require:"ngModel",link:function(e,i,n,c){function o(e){for(var r=t.get(),i=0;i<r.length;i++)if(e.toUpperCase().match((".*"+r[i].trim()+".*").replace(" ",".*")))return!1;return!0}c.$asyncValidators.blacklist=function(e,t){if(c.$isEmpty(e))return r.resolve();var i=r.defer();return o(e)?i.resolve():i.reject(),i.promise}}}}]);
angular.module("utils.autofocus",[]).directive("autofocus",["$timeout",function(u){return{restrict:"A",link:function(t,o){u(function(){o[0].focus()})}}}]);
!function(){function n(n,t,r){var c=[];return{set:function(n){c=n},get:function(){return c}}}var t=angular.module("app");t.factory("censorService",["$q","$http","config",n])}();
!function(){function n(n,t){function e(){s={}}function r(){g=""}function o(){return s}function c(){return g}function i(n){s=n}function u(n){g=n}function a(e){return n.get(t.apiUrl,{params:e}).then(function(n){return n.data})}function f(e){n.post(t.apiUrl,s).then(function(n){console.log("saved new visitor",s)}).catch(function(n){console.error("something went wrong",n.message)})}var s={},g="";return{clear:e,clearTerm:r,get:o,getTerm:c,set:i,setTerm:u,save:f,search:a}}var t=angular.module("app");t.factory("visitorService",["$http","config",n])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJmaW5pc2guY29tcG9uZW50LmpzIiwicGxlZGdlLmNvbXBvbmVudC5qcyIsInJlZ2lzdGVyLmNvbXBvbmVudC5qcyIsInJlc3VsdHMuY29tcG9uZW50LmpzIiwic2VhcmNoLmNvbXBvbmVudC5qcyIsInNldHRpbmdzLmNvbXBvbmVudC5qcyIsIndlbGNvbWUuY29tcG9uZW50LmpzIiwiZGlyZWN0aXZlcy9hbmd1bGFyLW9uLXNjcmVlbi1rZXlib2FyZC5qcyIsImRpcmVjdGl2ZXMvYmxhY2tsaXN0LmRpcmVjdGl2ZS5qcyIsImRpcmVjdGl2ZXMvdXRpbC5hdXRvZm9jdXMuanMiLCJzZXJ2aWNlcy9jZW5zb3Iuc2VydmljZS5qcyIsInNlcnZpY2VzL3Zpc2l0b3Iuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJhbmd1bGFyIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCIkcm91dGVDb25maWciLCJwYXRoIiwibmFtZSIsInVzZUFzRGVmYXVsdCIsInZhbHVlIiwiaG9zdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJhcGlVcmxCYXNlIiwiYXBpVXJsIiwiaHViVXJsIiwicmVkaXJlY3RUaW1lb3V0IiwiZmluaXNoVGltZW91dCIsImtpb3NrIiwicnVuIiwiY29uZmlnIiwiY29udHJvbGxlciIsInZpc2l0b3IiLCIkdGltZW91dCIsImxvY2FsU3RvcmFnZSIsIiRjdHJsIiwidGhpcyIsIiRvbkluaXQiLCJjb25zb2xlIiwibG9nIiwiZ2V0IiwiJCIsImNvbm5lY3Rpb24iLCJodWIiLCJ1cmwiLCJuYW1lTm90aWZpY2F0aW9uSHViIiwic3RhcnQiLCJkb25lIiwic2VydmVyIiwiYWRkTmFtZSIsImNvdW50RG93bl90aWNrIiwic3RhcnRUaW1lciIsIiRyb3V0ZXJPbkFjdGl2YXRlIiwibmV4dCIsIiRyb3V0ZXIiLCJjbGVhciIsIm5hdmlnYXRlIiwiYmluZGluZ3MiLCJ0ZW1wbGF0ZVVybCIsInRpbWVyIiwiZ290b1dlbGNvbWUiLCJjYW5jZWwiLCJnb3RvUmVnaXN0ZXIiLCJwbGVkZ2UiLCJpZCIsInNhdmUiLCIkc2NvcGUiLCIkaHR0cCIsImNlbnNvciIsImNyZWF0ZVZhbGlkYXRpb25XYXRjaGVyIiwiJHdhdGNoQ29sbGVjdGlvbiIsInZhbCIsInVuZGVmaW5lZCIsImZpcnN0bmFtZSIsImxhc3RuYW1lIiwicmVwbGFjZSIsImxlbmd0aCIsInZhbGlkIiwiY2hlY2tBcnJheSIsInRvVXBwZXJDYXNlIiwiZm9ybSIsIiRzZXRWYWxpZGl0eSIsInN0ciIsImFyciIsImkiLCJtYXRjaCIsInRyaW0iLCJ0aGVuIiwiciIsImxpc3QiLCJkYXRhIiwiZm9yRWFjaCIsIml0ZW0iLCJ3b3JkIiwicHVzaCIsInNldCIsImdvdG9QbGVkZ2UiLCJ0YWJsZVN0YXRlUmVmIiwicGFnZVNpemVEZWZhdWx0Iiwic2VhcmNoTW9kZWwiLCJwYWdlIiwicGFnZVNpemUiLCJwYWdpbmciLCJjdXJyZW50UGFnZSIsIm5hbWVzIiwiZ2V0VGVybSIsInNwbGl0Iiwic2VhcmNoIiwiZ290b1NlYXJjaCIsImNsZWFyVGVybSIsInRvZ2dsZU5hbWUiLCJ2IiwidGFibGVTdGF0ZSIsImxvYWRpbmciLCJ2aXNpdG9ycyIsInJlc3VsdHMiLCJwYWdlZCIsInNlYXJjaFRlcm0iLCJnb3RvU2VhcmNoUmVzdWx0cyIsInNldFRlcm0iLCJhdmFpbGFibGVLaW9za3MiLCJraW9za0NoYW5nZSIsImtleUNvZGUiLCJ1bmxvY2siLCJrZXkiLCJ0b1N0cmluZyIsImRpcmVjdGl2ZSIsImEiLCJiIiwicmVzdHJpY3QiLCJiaW5kVG9Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwic2NvcGUiLCJyb3dzIiwidXBwZXJjYXNlQWxsV29yZHMiLCJ0eXBlIiwiY29sc3BhbiIsInRleHQiLCJnZXRUZXh0IiwiYyIsImluZGV4T2YiLCJ0cnVzdEFzSHRtbCIsImxpbmsiLCJkIiwiZSIsImYiLCJjdHJsIiwiYmluZCIsInByZXZlbnREZWZhdWx0IiwiaXNVcHBlckNhc2UiLCJsYXN0SW5wdXRDdHJsIiwic3RhcnRQb3MiLCJlbmRQb3MiLCJwcmludEtleVN0cm9rZSIsImVsZW1lbnQiLCJ0YXJnZXQiLCJzcmNFbGVtZW50IiwiaGFzQ2xhc3MiLCJlcmFzZUtleVN0cm9rZSIsImludmVyc2VDYXNlIiwic3Vic3RyaW5nIiwiZyIsInRyaWdnZXJIYW5kbGVyIiwic2V0S2V5Ym9hcmRMYXlvdXQiLCJyZWZvY3VzIiwiZm9jdXMiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsImNsYXNzTmFtZSIsInNsaWNlIiwiaGFzT3duUHJvcGVydHkiLCJmaW5kIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiLCIkcSIsInJlcXVpcmUiLCJlbG0iLCJhdHRycyIsIiRhc3luY1ZhbGlkYXRvcnMiLCJibGFja2xpc3QiLCJtb2RlbFZhbHVlIiwidmlld1ZhbHVlIiwiJGlzRW1wdHkiLCJyZXNvbHZlIiwiZGVmIiwiZGVmZXIiLCJyZWplY3QiLCJwcm9taXNlIiwiJGVsZW1lbnQiLCJmYWN0b3J5IiwianNvbiIsInRlcm0iLCJ0IiwibW9kZWwiLCJwYXJhbXMiLCJwb3N0IiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiJDQUNBLFdBQ0ksR0FBSUEsR0FBU0MsUUFBUUQsT0FBTyxPQUN4QixvQkFDQSxZQUNBLGVBQ0EsYUFDQSxtQkFDQSxrQkFDQSwyQkFDQSxzQkFHSkEsR0FBT0UsVUFBVSxTQUVUQyxTQUFVLHFDQUNWQyxlQUNNQyxLQUFNLElBQUtDLEtBQU0sVUFBV0osVUFBVyxVQUFXSyxjQUFjLElBQ2hFRixLQUFNLFlBQWFDLEtBQU0sV0FBWUosVUFBVyxhQUNoREcsS0FBTSxVQUFXQyxLQUFNLFNBQVVKLFVBQVcsV0FDNUNHLEtBQU0sVUFBV0MsS0FBTSxTQUFVSixVQUFXLFdBQzVDRyxLQUFNLFVBQVdDLEtBQU0sU0FBVUosVUFBVyxXQUM1Q0csS0FBTSxXQUFZQyxLQUFNLFVBQVdKLFVBQVcsWUFDOUNHLEtBQU0sWUFBYUMsS0FB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QUdYLFFBQVNyRixHQUFPc0YsR0FDWixNQUFPOUgsR0FBTTNCLElBQUlWLEVBQU9OLFFBQVUwSyxPQUFRRCxJQUFTMUcsS0FBSyxTQUFVQyxHQUM5RCxNQUFPQSxHQUFFRSxPQUlqQixRQUFTekIsR0FBSzhDLEdBQ1Y1QyxFQUFNZ0ksS0FBS3JLLEVBQU9OLE9BQVFRLEdBQVN1RCxLQUFLLFNBQVVDLEdBQzlDbEQsUUFBUUMsSUFBSSxvQkFBcUJQLEtBQ2xDb0ssTUFBTSxTQUFVQyxHQUNmL0osUUFBUWdLLE1BQU0sdUJBQXdCRCxFQUFJRSxXQWhEbEQsR0FBSXZLLE1BQ0ErSixFQUFPLEVBRVgsUUFDSXhJLE1BQU9BLEVBQ1BzRCxVQUFXQSxFQUNYckUsSUFBS0EsRUFDTGlFLFFBQVNBLEVBQ1RWLElBQUtBLEVBQ0x3QixRQUFTQSxFQUNUdEQsS0FBTUEsRUFDTjBDLE9BQVFBLEdBZGhCLEdBQUlqRyxHQUFTQyxRQUFRRCxPQUFPLE1BeUQ1QkEsR0FBT21MLFFBQVEsa0JBQW1CLFFBQVMsU0FBVUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vYXBwLm1vZHVsZS5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXHJcbiAgICAgICAgJ25nQ29tcG9uZW50Um91dGVyJyxcclxuICAgICAgICAnbmdBbmltYXRlJyxcclxuICAgICAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICAgICAnbmdNZXNzYWdlcycsXHJcbiAgICAgICAgJ29uU2NyZWVuS2V5Ym9hcmQnLFxyXG4gICAgICAgICd1dGlscy5hdXRvZm9jdXMnLFxyXG4gICAgICAgICd0cmVhc3VyZS1vdmVybGF5LXNwaW5uZXInLFxyXG4gICAgICAgICdMb2NhbFN0b3JhZ2VNb2R1bGUnXHJcbiAgICBdKTtcclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdraW9zaycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxuZy1vdXRsZXQ+TG9hZGluZyAuLjwvbmctb3V0bGV0ID4nLFxyXG4gICAgICAgICAgICAkcm91dGVDb25maWc6IFtcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy8nLCBuYW1lOiAnV2VsY29tZScsIGNvbXBvbmVudDogJ3dlbGNvbWUnLCB1c2VBc0RlZmF1bHQ6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy9yZWdpc3RlcicsIG5hbWU6ICdSZWdpc3RlcicsIGNvbXBvbmVudDogJ3JlZ2lzdGVyJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3BsZWRnZScsIG5hbWU6ICdQbGVkZ2UnLCBjb21wb25lbnQ6ICdwbGVkZ2UnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhdGg6ICcvZmluaXNoJywgbmFtZTogJ0ZpbmlzaCcsIGNvbXBvbmVudDogJ2ZpbmlzaCcgfSxcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy9zZWFyY2gnLCBuYW1lOiAnU2VhcmNoJywgY29tcG9uZW50OiAnc2VhcmNoJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3Jlc3VsdHMnLCBuYW1lOiAnUmVzdWx0cycsIGNvbXBvbmVudDogJ3Jlc3VsdHMnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhdGg6ICcvc2V0dGluZ3MnLCBuYW1lOiAnU2V0dGluZ3MnLCBjb21wb25lbnQ6ICdzZXR0aW5ncycgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICBtb2R1bGUudmFsdWUoJyRyb3V0ZXJSb290Q29tcG9uZW50JywgJ2tpb3NrJyk7XHJcbiAgICBtb2R1bGUudmFsdWUoJ2NvbmZpZycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBob3N0OiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsXHJcbiAgICAgICAgICAgIGFwaVVybEJhc2U6ICdodHRwOi8vbG9jYWxob3N0OjQ5OTYwL2FwaS8nLFxyXG4gICAgICAgICAgICBhcGlVcmw6ICdodHRwOi8vbG9jYWxob3N0OjQ5OTYwL2FwaS92aXNpdG9yJyxcclxuICAgICAgICAgICAgaHViVXJsOiAnaHR0cDovL2xvY2FsaG9zdDo0OTk2MC9zaWduYWxyJyxcclxuICAgICAgICAgICAgcmVkaXJlY3RUaW1lb3V0OiAzMDAwMCxcclxuICAgICAgICAgICAgZmluaXNoVGltZW91dDogNCxcclxuICAgICAgICAgICAga2lvc2s6IDFcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgbW9kdWxlLnJ1bihbJ2NvbmZpZycsIGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICBzd2l0Y2ggKGNvbmZpZy5ob3N0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NybWNraW9zayc6XHJcbiAgICAgICAgICAgICAgICBjb25maWcuYXBpVXJsQmFzZSA9ICdodHRwOi8vY3JtYy9hcGkvJyxcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcuYXBpVXJsID0gJ2h0dHA6Ly9jcm1jL2FwaS92aXNpdG9yJztcclxuICAgICAgICAgICAgICAgIGNvbmZpZy5odWJVcmwgPSAnaHR0cDovL2NybWMvc2lnbmFscic7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY3JtY2tpb3NrLXRlc3Quc3BsY2VudGVyLm9yZyc6XHJcbiAgICAgICAgICAgICAgICBjb25maWcuYXBpVXJsQmFzZSA9ICdodHRwOi8vY3JtYy10ZXN0L2FwaS8nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5hcGlVcmwgPSAnaHR0cDovL2NybWMtdGVzdC9hcGkvdmlzaXRvcic7XHJcbiAgICAgICAgICAgICAgICBjb25maWcuaHViVXJsID0gJ2h0dHA6Ly9jcm1jLXRlc3Qvc2lnbmFscic7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY3JtY2tpb3NrLnNwbGNlbnRlci5vcmcnOlxyXG4gICAgICAgICAgICAgICAgY29uZmlnLmFwaVVybEJhc2UgPSAnaHR0cDovL2NybWMvYXBpLycsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLmFwaVVybCA9ICdodHRwOi8vY3JtYy9hcGkvdmlzaXRvcic7XHJcbiAgICAgICAgICAgICAgICBjb25maWcuaHViVXJsID0gJ2h0dHA6Ly9jcm1jL3NpZ25hbHInO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XSk7XHJcblxyXG59XHJcbikoKTsiLCIvL2ZpbmlzaC5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbiAgICAvL1RPRE86IFNFVC9HRVQga2lvc2sgbnVtYmVyIGZyb20gbG9jYWwgc3RvcmFnZVxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcihjb25maWcsIHZpc2l0b3IsICR0aW1lb3V0LCBsb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZmluaXNoIGluaXQnLCBjb25maWcpO1xyXG4gICAgICAgICAgICAkY3RybC5raW9zayA9IGxvY2FsU3RvcmFnZS5nZXQoJ2tpb3NrJykgfHwgMTtcclxuXHJcbiAgICAgICAgICAgICQuY29ubmVjdGlvbi5odWIudXJsID0gY29uZmlnLmh1YlVybDtcclxuICAgICAgICAgICAgdmFyIGh1YiA9ICQuY29ubmVjdGlvbi5uYW1lTm90aWZpY2F0aW9uSHViO1xyXG4gICAgICAgICAgICAkLmNvbm5lY3Rpb24uaHViLnN0YXJ0KCkuZG9uZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdodWIgY29ubmVjdGlvbiBzdGFydGVkJyk7XHJcbiAgICAgICAgICAgICAgICBodWIuc2VydmVyLmFkZE5hbWUoJGN0cmwua2lvc2ssIHZpc2l0b3IuZ2V0KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICRjdHJsLmNvdW50RG93bl90aWNrID0gY29uZmlnLmZpbmlzaFRpbWVvdXQ7XHJcbiAgICAgICAgICAgICRjdHJsLnN0YXJ0VGltZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJHJvdXRlck9uQWN0aXZhdGUgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAkY3RybC4kcm91dGVyID0gdGhpcy4kcm91dGVyOyBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkY3RybC5zdGFydFRpbWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJGN0cmwuY291bnREb3duX3RpY2sgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmlzaXRvci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RpbWVyIGZpbmlzaGVkJyk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLmNvdW50RG93bl90aWNrLS07XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgkY3RybC5zdGFydFRpbWVyLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ2ZpbmlzaCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICAgICAgJHJvdXRlcjogJzwnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2ZpbmlzaC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnY29uZmlnJywgJ3Zpc2l0b3JTZXJ2aWNlJywgJyR0aW1lb3V0JywgJ2xvY2FsU3RvcmFnZVNlcnZpY2UnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3BsZWRnZS5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbiAgICAvL1RPRE86IEdFVCBodWIgdXJsIGZyb20gc2V0dGluZ3NcclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIoJHRpbWVvdXQsIGNvbmZpZywgdmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHRpbWVyOyBcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3BsZWRnZSBpbml0Jyk7XHJcbiAgICAgICAgICAgICRjdHJsLnZpc2l0b3IgPSB2aXNpdG9yLmdldCgpO1xyXG4gICAgICAgICAgICAkY3RybC5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHsgfTtcclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1dlbGNvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9SZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnUmVnaXN0ZXInXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5wbGVkZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdmlzaXRvci5nZXQoKS5pZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmUgbmV3IHZpc2l0b3InLCB2aXNpdG9yLmdldCgpKTtcclxuICAgICAgICAgICAgICAgIHZpc2l0b3Iuc2F2ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JldHVybmluZyB2aXNpdG9yJywgdmlzaXRvci5nZXQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnRmluaXNoJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuc3RhcnRUaW1lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGltZXIgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2aXNpdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICAgICAgfSwgY29uZmlnLnJlZGlyZWN0VGltZW91dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdwbGVkZ2UnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICRyb3V0ZXI6ICc8J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9wbGVkZ2UuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJyR0aW1lb3V0JywgJ2NvbmZpZycsICd2aXNpdG9yU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcbn1cclxuKSgpOyIsIi8vcmVnaXN0ZXIuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIoY29uZmlnLCB2aXNpdG9yLCAkdGltZW91dCwgJHNjb3BlLCAkaHR0cCwgY2Vuc29yKSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuICAgICAgICB2YXIgdGltZXI7XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdHJsLnZpc2l0b3IgPSB2aXNpdG9yLmdldCgpO1xyXG4gICAgICAgICAgICAkaHR0cC5nZXQoY29uZmlnLmFwaVVybEJhc2UgKyAnY2Vuc29yJykudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldHRpbmcgZGF0YSBmcm9tIHVyaScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldChjb25maWcuYXBpVXJsQmFzZSArICdjZW5zb3InKS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoci5kYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgci5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLndvcmQgIT09IG51bGwpIGxpc3QucHVzaChpdGVtLndvcmQucmVwbGFjZSgvIC9nLCBcIlwiKS50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNlbnNvci5zZXQobGlzdCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjcmVhdGVWYWxpZGF0aW9uV2F0Y2hlcigpO1xyXG4gICAgICAgICAgICAkY3RybC5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgJGN0cmwuJHJvdXRlciA9IHRoaXMuJHJvdXRlcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkY3RybC5nb3RvV2VsY29tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9QbGVkZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1BsZWRnZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnN0YXJ0VGltZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XHJcbiAgICAgICAgICAgIHRpbWVyID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmlzaXRvci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgICAgIH0sIGNvbmZpZy5yZWRpcmVjdFRpbWVvdXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVmFsaWRhdGlvbldhdGNoZXIoKSB7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignJGN0cmwudmlzaXRvcicsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbC5maXJzdG5hbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdmFsLmZpcnN0bmFtZSArIHZhbC5sYXN0bmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8gL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gY2hlY2tBcnJheShuYW1lLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkY3RybC5mb3JtLmxhc3RuYW1lLiRzZXRWYWxpZGl0eSgnYmxhY2tsaXN0JywgdmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQXJyYXkoc3RyKSB7XHJcbiAgICAgICAgICAgIHZhciBhcnIgPSBjZW5zb3IuZ2V0KCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RyLm1hdGNoKChcIi4qXCIgKyBhcnJbaV0udHJpbSgpICsgXCIuKlwiKS5yZXBsYWNlKFwiIFwiLCBcIi4qXCIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3JlZ2lzdGVyJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7ICRyb3V0ZXI6ICc8JyB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9yZWdpc3Rlci5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnY29uZmlnJywgJ3Zpc2l0b3JTZXJ2aWNlJywgJyR0aW1lb3V0JywgJyRzY29wZScsICckaHR0cCcsICdjZW5zb3JTZXJ2aWNlJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG59XHJcbikoKTtcclxuIiwiLy9yZXN1bHRzLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuICAgIC8vVE9ETzogR0VUIGh1YiB1cmwgZnJvbSBzZXR0aW5nc1xyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcihjb25maWcsICR0aW1lb3V0LCB2aXNpdG9yKSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuICAgICAgICB2YXIgdGltZXI7IFxyXG4gICAgICAgIHZhciBwYWdlU2l6ZURlZmF1bHQgPSAxMDtcclxuICAgICAgICB2YXIgdGFibGVTdGF0ZVJlZjtcclxuXHJcbiAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwgPSB7XHJcbiAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZURlZmF1bHRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkY3RybC5wYWdpbmcgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VhcmNoIGluaXQnKTtcclxuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSB2aXNpdG9yLmdldFRlcm0oKS5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICBpZiAobmFtZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwuZmlyc3RuYW1lID0gbmFtZXNbMF07IFxyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwubGFzdG5hbWUgPSBuYW1lc1sxXTsgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5zZWFyY2hNb2RlbC5sYXN0bmFtZSA9IG5hbWVzWzBdOyBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJGN0cmwuc2VhcmNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvV2VsY29tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9TZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1NlYXJjaCddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnBsZWRnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmlzaXRvci5jbGVhclRlcm0oKTtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnUGxlZGdlJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwudG9nZ2xlTmFtZSA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICRjdHJsLnZpc2l0b3IgPSB2O1xyXG4gICAgICAgICAgICB2aXNpdG9yLnNldCh2KTtcclxuICAgICAgICAgICAgJGN0cmwuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuc2VhcmNoID0gZnVuY3Rpb24gKHRhYmxlU3RhdGUpIHtcclxuICAgICAgICAgICAgdGFibGVTdGF0ZVJlZiA9IHRhYmxlU3RhdGU7XHJcbiAgICAgICAgICAgICRjdHJsLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5zZWFyY2goJGN0cmwuc2VhcmNoTW9kZWwpLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLnZpc2l0b3JzID0gci5yZXN1bHRzO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwgPSByO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICRjdHJsLnNlYXJjaE1vZGVsLnJlc3VsdHM7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnBhZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkY3RybC52aXNpdG9yID0gbnVsbDsgXHJcbiAgICAgICAgICAgICRjdHJsLnNlYXJjaCh0YWJsZVN0YXRlUmVmKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnN0YXJ0VGltZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XHJcbiAgICAgICAgICAgIHRpbWVyID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmlzaXRvci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgICAgIH0sIGNvbmZpZy5yZWRpcmVjdFRpbWVvdXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgncmVzdWx0cycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczogeyAkcm91dGVyOiAnPCcgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcmVzdWx0cy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnY29uZmlnJywgJyR0aW1lb3V0JywgJ3Zpc2l0b3JTZXJ2aWNlJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxufVxyXG4pKCk7IiwiLy9zZWFyY2guY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIoY29uZmlnLCB2aXNpdG9yLCAkdGltZW91dCkge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHRpbWVyOyBcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlYXJjaCBpbml0Jyk7XHJcbiAgICAgICAgICAgICRjdHJsLnNlYXJjaFRlcm0gPSB2aXNpdG9yLmdldFRlcm0oKTtcclxuICAgICAgICAgICAgJGN0cmwuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1dlbGNvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9TZWFyY2hSZXN1bHRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3Iuc2V0VGVybSgkY3RybC5zZWFyY2hUZXJtKTsgXHJcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1Jlc3VsdHMnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5zdGFydFRpbWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZXIpO1xyXG4gICAgICAgICAgICB0aW1lciA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZpc2l0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICRjdHJsLiRyb3V0ZXIubmF2aWdhdGUoWydXZWxjb21lJ10pO1xyXG4gICAgICAgICAgICB9LCBjb25maWcucmVkaXJlY3RUaW1lb3V0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3NlYXJjaCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczogeyAkcm91dGVyOiAnPCcgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvc2VhcmNoLmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWydjb25maWcnLCAndmlzaXRvclNlcnZpY2UnLCAnJHRpbWVvdXQnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3NldHRpbmdzLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb250cm9sbGVyKGxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgJGN0cmwuYXZhaWxhYmxlS2lvc2tzID0gWzEsIDIsIDMsIDRdO1xyXG4gICAgICAgICAgICAkY3RybC5raW9zayA9IDE7IFxyXG5cclxuICAgICAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXR0aW5ncyBpbml0Jyk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5raW9zayA9IGxvY2FsU3RvcmFnZS5nZXQoJ2tpb3NrJykgfHwgMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyT25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChuZXh0KSB7IH07XHJcblxyXG4gICAgICAgICAgICAkY3RybC5nb3RvV2VsY29tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRjdHJsLmtpb3NrQ2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0KCdraW9zaycsICRjdHJsLmtpb3NrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbW9kdWxlLmNvbXBvbmVudCgnc2V0dGluZ3MnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nczogeyAkcm91dGVyOiAnPCcgfSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3NldHRpbmdzLmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnbG9jYWxTdG9yYWdlU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuKSgpOyIsIi8vd2VsY29tZS5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcigpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG4gICAgICAgIHZhciBrZXlDb2RlID0gJyc7IFxyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnd2VsY29tZSBpbml0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHsgfTtcclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydSZWdpc3RlciddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9TZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1NlYXJjaCddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnVubG9jayA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgaWYgKGtleUNvZGUubGVuZ3RoID4gNCkge1xyXG4gICAgICAgICAgICAgICAga2V5Q29kZSA9IGtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGtleUNvZGUgKz0ga2V5LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09ICcxMjEyJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnU2V0dGluZ3MnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgnd2VsY29tZScsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczogeyAkcm91dGVyOiAnPCcgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvd2VsY29tZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG5cclxufVxyXG4pKCk7IiwiYW5ndWxhci5tb2R1bGUoXCJvblNjcmVlbktleWJvYXJkXCIsIFtcIm5nU2FuaXRpemVcIl0pLmRpcmVjdGl2ZShcIm9uU2NyZWVuS2V5Ym9hcmRcIiwgW1wiJHRpbWVvdXRcIiwgXCIkZG9jdW1lbnRcIiwgZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogXCJFXCIsXHJcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogITAsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiBcImN0cmxcIixcclxuICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICByb3dzOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIHVwcGVyY2FzZUFsbFdvcmRzOiBcIkBcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJvbGxlcjogW1wiJHNjZVwiLCBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICB2YXIgYiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGIucm93cyB8fCAoYi5yb3dzID0gW1xyXG4gICAgICAgICAgICAgICAgW1wiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiLCBcIjVcIiwgXCI2XCIsIFwiN1wiLCBcIjhcIiwgXCI5XCIsIFwiMFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogXCImbEFycjtcIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBbXCJxXCIsIFwid1wiLCBcImVcIiwgXCJyXCIsIFwidFwiLCBcInlcIiwgXCJ1XCIsIFwiaVwiLCBcIm9cIiwgXCJwXCIsIFwiQFwiXSxcclxuICAgICAgICAgICAgICAgIFtcImFcIiwgXCJzXCIsIFwiZFwiLCBcImZcIiwgXCJnXCIsIFwiaFwiLCBcImpcIiwgXCJrXCIsIFwibFwiLCBcIi1cIiwgXCJfXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm1hcmdpblwiXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzaGlmdFwiXHJcbiAgICAgICAgICAgICAgICB9LCBcInpcIiwgXCJ4XCIsIFwiY1wiLCBcInZcIiwgXCJiXCIsIFwiblwiLCBcIm1cIiwgXCIsXCIsIFwiLlwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzaGlmdFwiXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtYXJnaW5cIlxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3BhY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiA5LFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiIFwiXHJcbiAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICBdKSxcclxuICAgICAgICAgICAgICAgIGIuZ2V0VGV4dCA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwibWFyZ2luXCIgPT09IGIudHlwZSkgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwic2hpZnRcIiA9PT0gYi50eXBlKSByZXR1cm4gXCImZEFycjtcIjtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGIudGV4dCB8fCBiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjICYmIGMuaW5kZXhPZihcIiZcIikgPiAtMSA/IGEudHJ1c3RBc0h0bWwoYykgOiBjO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSxcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoYywgZCwgZSkge1xyXG4gICAgICAgICAgICB2YXIgZiA9IGMuY3RybDtcclxuICAgICAgICAgICAgZC5iaW5kKFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhLnByZXZlbnREZWZhdWx0KCksICExO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGYuaXNVcHBlckNhc2UgPSAhMSwgZi5sYXN0SW5wdXRDdHJsID0gbnVsbCwgZi5zdGFydFBvcyA9IG51bGwsIGYuZW5kUG9zID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGYucHJpbnRLZXlTdHJva2UgPSBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmLmxhc3RJbnB1dEN0cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBhbmd1bGFyLmVsZW1lbnQoYS50YXJnZXQgfHwgYS5zcmNFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIuaGFzQ2xhc3MoXCJlcmFzZVwiKSkgcmV0dXJuIHZvaWQgZi5lcmFzZUtleVN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYi5oYXNDbGFzcyhcInNoaWZ0XCIpKSByZXR1cm4gdm9pZCBmLmludmVyc2VDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gYW5ndWxhci5lbGVtZW50KGYubGFzdElucHV0Q3RybCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gYy52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBkLnN1YnN0cmluZygwLCBmLnN0YXJ0UG9zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBkLnN1YnN0cmluZyhmLmVuZFBvcywgZC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjLnZhbChlICsgYi50ZXh0KCkgKyBnKSwgYy50cmlnZ2VySGFuZGxlcihcImNoYW5nZVwiKSwgZi5zdGFydFBvcysrICwgZi5lbmRQb3MrKyAsIGYuc2V0S2V5Ym9hcmRMYXlvdXQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZi5pbnZlcnNlQ2FzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3ZhciBhID0gZFswXS5xdWVyeVNlbGVjdG9yQWxsKFwiLmxldHRlclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2FuZ3VsYXIuZm9yRWFjaChhLCBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHZhciBiID0gYW5ndWxhci5lbGVtZW50KGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGYuaXNVcHBlckNhc2UgPyBiLnRleHQoYi50ZXh0KCkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSA6IGIudGV4dChiLnRleHQoKS50b1N0cmluZygpLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfSksIGFuZ3VsYXIuZm9yRWFjaChkWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2hpZnRcIiksIGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgZi5pc1VwcGVyQ2FzZSA/IGFuZ3VsYXIuZWxlbWVudChhKS5odG1sKFwiJmRBcnI7XCIpIDogYW5ndWxhci5lbGVtZW50KGEpLmh0bWwoXCImdUFycjtcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy99KSwgZi5pc1VwcGVyQ2FzZSA9ICFmLmlzVXBwZXJDYXNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGYucmVmb2N1cyA9IGZ1bmN0aW9uICgpIHsgZi5sYXN0SW5wdXRDdHJsLmZvY3VzKCkgfSxcclxuICAgICAgICAgICAgICAgIGYuZXJhc2VLZXlTdHJva2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGYubGFzdElucHV0Q3RybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGYuc3RhcnRQb3MgIT09IGYuZW5kUG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGFuZ3VsYXIuZWxlbWVudChmLmxhc3RJbnB1dEN0cmwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGIudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gYy5zdWJzdHJpbmcoMCwgYSA/IGYuc3RhcnRQb3MgOiBmLnN0YXJ0UG9zIC0gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gYy5zdWJzdHJpbmcoZi5lbmRQb3MsIGMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYi52YWwoZCArIGUpLCBiLnRyaWdnZXJIYW5kbGVyKFwiY2hhbmdlXCIpLCBhID8gZi5lbmRQb3MgPSBmLnN0YXJ0UG9zIDogKGYuc3RhcnRQb3MtLSAsIGYuZW5kUG9zLS0pLCBmLmxhc3RJbnB1dEN0cmwuc2VsZWN0aW9uU3RhcnQgPSBmLnN0YXJ0UG9zLCBmLmxhc3RJbnB1dEN0cmwuc2VsZWN0aW9uRW5kID0gZi5zdGFydFBvcywgZi5zZXRLZXlib2FyZExheW91dCgpLCBmLnJlZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmLnNldEtleWJvYXJkTGF5b3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmxhc3RJbnB1dEN0cmwgPyB2b2lkIChmLmxhc3RJbnB1dEN0cmwuY2xhc3NOYW1lICYmIGYuaXNVcHBlckNhc2UgPyBmLmludmVyc2VDYXNlKCkgOiAwID09PSBhbmd1bGFyLmVsZW1lbnQoZi5sYXN0SW5wdXRDdHJsKS52YWwoKS5sZW5ndGggPyBmLmlzVXBwZXJDYXNlIHx8IChmLmlzVXBwZXJDYXNlID0gITEsIGYuaW52ZXJzZUNhc2UoKSkgOiBcIiBcIiA9PT0gYW5ndWxhci5lbGVtZW50KGYubGFzdElucHV0Q3RybCkudmFsKCkuc2xpY2UoLTEpICYmICFmLmlzVXBwZXJDYXNlICYmIGUuaGFzT3duUHJvcGVydHkoXCJ1cHBlcmNhc2VBbGxXb3Jkc1wiKSA/IGYuaW52ZXJzZUNhc2UoKSA6IChmLmlzVXBwZXJDYXNlID0gITAsIGYuaW52ZXJzZUNhc2UoKSkpIDogKGYuaXNVcHBlckNhc2UgPSAhMSwgdm9pZCBmLmludmVyc2VDYXNlKCkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGIuZmluZChcImlucHV0XCIpLmJpbmQoXCJibHVyIGZvY3VzXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmLnNldEtleWJvYXJkTGF5b3V0KCksIGYubGFzdElucHV0Q3RybCA9IHRoaXMsIGYubGFzdElucHV0Q3RybCAmJiBcImNoZWNrYm94XCIgIT09IGYubGFzdElucHV0Q3RybC50eXBlICYmIChmLnN0YXJ0UG9zID0gZi5sYXN0SW5wdXRDdHJsLnNlbGVjdGlvblN0YXJ0LCBmLmVuZFBvcyA9IGYubGFzdElucHV0Q3RybC5zZWxlY3Rpb25FbmQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYmluZChcImtleWRvd25cIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmLnN0YXJ0UG9zID0gZi5sYXN0SW5wdXRDdHJsLnNlbGVjdGlvblN0YXJ0LCBmLmVuZFBvcyA9IGYubGFzdElucHV0Q3RybC5zZWxlY3Rpb25FbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBhKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmLmludmVyc2VDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiBcIi90ZW1wbGF0ZXMvYW5ndWxhci1vbi1zY3JlZW4ta2V5Ym9hcmQuaHRtbFwiXHJcbiAgICB9O1xyXG59XSk7O1xyXG5hbmd1bGFyLm1vZHVsZSgnb25TY3JlZW5LZXlib2FyZCcpLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgJHRlbXBsYXRlQ2FjaGUucHV0KCcvdGVtcGxhdGVzL2FuZ3VsYXItb24tc2NyZWVuLWtleWJvYXJkLmh0bWwnLFxyXG4gICAgICAgIFwiPGRpdiBjbGFzcz1rZXlib2FyZD48dGFibGU+PHRyIG5nLXJlcGVhdD1cXFwicm93IGluIGN0cmwucm93c1xcXCI+PHRkIG5nLXJlcGVhdD1cXFwia2V5IGluIHJvd1xcXCIgbmctY2xpY2s9Y3RybC5wcmludEtleVN0cm9rZSgkZXZlbnQpIGNvbHNwYW49XFxcInt7a2V5LmNvbHNwYW4gfHwgMX19XFxcIiBuZy1jbGFzcz1cXFwieydidXR0b24nOiBrZXkudHlwZSAhPT0gJ21hcmdpbicsICdsZXR0ZXInOiBrZXkudHlwZSAhPT0gJ21hcmdpbid9XFxcIiBjbGFzcz17e2tleS50eXBlfX0gbmctYmluZC1odG1sPWN0cmwuZ2V0VGV4dChrZXkpPjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2PlwiXHJcbiAgICApO1xyXG5cclxufV0pOyIsIi8vYmxhY2tsaXN0LmRpcmVjdGl2ZS5qc1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnYXBwJylcclxuICAgIC5kaXJlY3RpdmUoJ2JsYWNrbGlzdCcsIFsnJHRpbWVvdXQnLCAnJHEnLCAnY2Vuc29yU2VydmljZScsIGZ1bmN0aW9uICgkdGltZW91dCwgJHEsIGNlbnNvcikge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlcm5hbWVzID0gWydKaW0nLCAnSm9obicsICdKaWxsJywgJ0phY2tpZSddO1xyXG5cclxuICAgICAgICAgICAgICAgIGN0cmwuJGFzeW5jVmFsaWRhdG9ycy5ibGFja2xpc3QgPSBmdW5jdGlvbiAobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHJsLiRpc0VtcHR5KG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNpZGVyIGVtcHR5IG1vZGVsIHZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVmID0gJHEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja0FycmF5KG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZi5yZWplY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWYucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZi5wcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVja0FycmF5KHN0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBjZW5zb3IuZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0ci50b1VwcGVyQ2FzZSgpLm1hdGNoKChcIi4qXCIgKyBhcnJbaV0udHJpbSgpICsgXCIuKlwiKS5yZXBsYWNlKFwiIFwiLCBcIi4qXCIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuXHJcbiIsIi8vdXRpbC5hdXRvZm9jdXMuanNcclxuLyoqXHJcbiAqIHRoZSBIVE1MNSBhdXRvZm9jdXMgcHJvcGVydHkgY2FuIGJlIGZpbmlja3kgd2hlbiBpdCBjb21lcyB0byBkeW5hbWljYWxseSBsb2FkZWRcclxuICogdGVtcGxhdGVzIGFuZCBzdWNoIHdpdGggQW5ndWxhckpTLiBVc2UgdGhpcyBzaW1wbGUgZGlyZWN0aXZlIHRvXHJcbiAqIHRhbWUgdGhpcyBiZWFzdCBvbmNlIGFuZCBmb3IgYWxsLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgYXV0b2ZvY3VzPlxyXG4gKiBcclxuICogTGljZW5zZTogTUlUXHJcbiAqL1xyXG5cclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ3V0aWxzLmF1dG9mb2N1cycsIFtdKVxyXG4gICAgLmRpcmVjdGl2ZSgnYXV0b2ZvY3VzJywgWyckdGltZW91dCcsIGZ1bmN0aW9uICgkdGltZW91dCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnRbMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG5cclxuIiwiLy9jZW5zb3Iuc2VydmljZS5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCRxLCAkaHR0cCwgY29uZmlnKSB7XHJcblxyXG4gICAgICAgIHZhciBqc29uID0gW107XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAganNvbiA9IHZhbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vcmV0dXJuIHtcclxuICAgICAgICAvLyAgICBpc0JsYWNrTGlzdGVkOiBpc0JsYWNrTGlzdGVkLFxyXG4gICAgICAgIC8vICAgIGdldDogZ2V0LCBcclxuICAgICAgICAvLyAgICBhbGw6IGFsbFxyXG4gICAgICAgIC8vfTtcclxuXHJcbiAgICAgICAgLy9mdW5jdGlvbiBpc0JsYWNrTGlzdGVkKHVzZXJuYW1lKSB7XHJcbiAgICAgICAgLy8gICAgaWYgKCEhdXNlcm5hbWUpIHtcclxuICAgICAgICAvLyAgICAgICAgcmV0dXJuICRxLndoZW4oKHVzZXJuYW1lID09PSAnZnJlZCcpKTtcclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy8gICAgcmV0dXJuICRxLnJlamVjdChcIkludmFsaWQgdXNlcm5hbWVcIik7XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIC8vZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgIC8vICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICBsb2FkKCkudGhlbihmdW5jdGlvbihyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBsaXN0ID0gcjsgXHJcbiAgICAgICAgLy8gICAgICAgIH0pOyBcclxuICAgICAgICAvLyAgICB9XHJcblxyXG4gICAgICAgIC8vICAgIHJldHVybiBsaXN0O1xyXG5cclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgLy9mdW5jdGlvbiBfYWxsKCkge1xyXG4gICAgICAgIC8vICAgIGNvbnNvbGUubG9nKCdsaXN0JywgbGlzdCk7XHJcbiAgICAgICAgLy8gICAgaWYgKGxpc3QubGVuZ3RoID4gMCkgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgLy8gICAgcmV0dXJuICRodHRwLmdldChjb25maWcuYXBpVXJsQmFzZSArICdjZW5zb3InKS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgLy8gICAgICAgIGNvbnNvbGUubG9nKCdnZXR0aW5nIGRhdGEgZnJvbSB1cmknKTtcclxuICAgICAgICAvLyAgICAgICAgbGlzdCA9IHIuZGF0YTtcclxuICAgICAgICAvLyAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgICAgLy8gICAgfSk7XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIC8vcmVzdWx0cy5hbGwgPSBfYWxsO1xyXG4gICAgICAgIC8vcmV0dXJuIHJlc3VsdHM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5mYWN0b3J5KCdjZW5zb3JTZXJ2aWNlJywgWyckcScsICckaHR0cCcsICdjb25maWcnLCBmYWN0b3J5XSk7XHJcbn1cclxuKSgpOyIsIi8vdmlzaXRvci5zZXJ2aWNlLmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCRodHRwLCBjb25maWcpIHtcclxuICAgICAgICB2YXIgdmlzaXRvciA9IHt9O1xyXG4gICAgICAgIHZhciB0ZXJtID0gJyc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2xlYXI6IGNsZWFyLFxyXG4gICAgICAgICAgICBjbGVhclRlcm06IGNsZWFyVGVybSwgXHJcbiAgICAgICAgICAgIGdldDogZ2V0LFxyXG4gICAgICAgICAgICBnZXRUZXJtOiBnZXRUZXJtLFxyXG4gICAgICAgICAgICBzZXQ6IHNldCxcclxuICAgICAgICAgICAgc2V0VGVybTogc2V0VGVybSxcclxuICAgICAgICAgICAgc2F2ZTogc2F2ZSwgXHJcbiAgICAgICAgICAgIHNlYXJjaDogc2VhcmNoXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyVGVybSgpIHtcclxuICAgICAgICAgICAgdGVybSA9ICcnOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRUZXJtKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGVybTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldCh2KSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0VGVybSh0KSB7XHJcbiAgICAgICAgICAgIHRlcm0gPSB0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoKG1vZGVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoY29uZmlnLmFwaVVybCwgeyBwYXJhbXM6IG1vZGVsIH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByLmRhdGE7IFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmUodikge1xyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KGNvbmZpZy5hcGlVcmwsIHZpc2l0b3IpLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXZlZCBuZXcgdmlzaXRvcicsIHZpc2l0b3IpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzb21ldGhpbmcgd2VudCB3cm9uZycsIGVyci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuZmFjdG9yeSgndmlzaXRvclNlcnZpY2UnLCBbJyRodHRwJywgJ2NvbmZpZycsIGZhY3RvcnldKTtcclxuXHJcbn1cclxuKSgpOyJdfQ==
