!function(){var e=angular.module("app",["ngComponentRouter"]);e.component("kiosk",{template:"<ng-outlet>Loading ..</ng-outlet >",$routeConfig:[{path:"/",name:"Welcome",component:"welcome",useAsDefault:!0},{path:"/register",name:"Register",component:"register"},{path:"/pledge",name:"Pledge",component:"pledge"},{path:"/finish",name:"Finish",component:"finish"},{path:"/search",name:"Search",component:"search"},{path:"/results",name:"Results",component:"results"}]}),e.value("$routerRootComponent","kiosk")}();
!function(){function n(n,t){var o=this;o.countDownWatch=function(){o.countDown_tick<=0?(n.clear(),o.$router.navigate(["Welcome"])):(o.countDown_tick--,t(o.countDownWatch,1e3))},o.$onInit=function(){console.log("finish init"),o.countDown_tick=3,o.countDownWatch()},this.$routerOnActivate=function(n){o.$router=this.$router}}var t=angular.module("app");t.component("finish",{bindings:{$router:"<"},templateUrl:"app/finish.component.html",controller:["visitorService","$timeout",n]})}();
!function(){function o(o){var e=this;e.$onInit=function(){e.visitor=o.get(),console.log("pledge init",e)},this.$routerOnActivate=function(o){},e.gotoWelcome=function(){console.log("goto welcome"),o.clear(),this.$router.navigate(["Welcome"])},e.gotoRegister=function(){console.log("goto register"),this.$router.navigate(["Register"])},e.pledge=function(){console.log("save visitor"),this.$router.navigate(["Finish"])}}var e=angular.module("app");e.component("pledge",{bindings:{$router:"<"},templateUrl:"app/pledge.component.html",controller:["visitorService",o]})}();
!function(){function e(e){var o=this;o.$onInit=function(){o.visitor=e.get(),console.log("visitor service")},o.gotoWelcome=function(){this.$router.navigate(["Welcome"])},o.gotoPledge=function(){this.$router.navigate(["Pledge"])}}var o=angular.module("app");o.component("register",{bindings:{$router:"<"},templateUrl:"app/register.component.html",controller:["visitorService",e]})}();
!function(){function o(o){var e=this;e.paging={currentPage:1},e.$onInit=function(){console.log("search init",o.getTerm()),e.visitors=o.search(),console.log("visitors",e.visitors)},e.gotoWelcome=function(){console.log("goto welcome"),this.$router.navigate(["Welcome"])},e.gotoSearch=function(){console.log("search"),this.$router.navigate(["Search"])},e.pledge=function(){console.log("pledge"),this.$router.navigate(["Pledge"])},e.toggleName=function(o){e.visitor=o,console.log("visitor selected",e.visitor)},e.pageChanged=function(o){console.log("paged",o)}}var e=angular.module("app");e.component("results",{bindings:{$router:"<"},templateUrl:"app/results.component.html",controller:["visitorService",o]})}();
!function(){function e(e){var o=this;o.$onInit=function(){console.log("search init")},o.gotoWelcome=function(){console.log("goto welcome"),e.clear(),this.$router.navigate(["Welcome"])},o.gotoSearchResults=function(){console.log("search results"),e.setTerm(o.searchTerm),this.$router.navigate(["Results"])}}var o=angular.module("app");o.component("search",{bindings:{$router:"<"},templateUrl:"app/search.component.html",controller:["visitorService",e]})}();
!function(){function o(o){var n=this;n.$onInit=function(){console.log("welcome init",n),console.log("visitor",o.get()),$.connection.hub.url="http://localhost:49960/signalr";$.connection.nameNotificationHub;$.connection.hub.start().done(function(){console.log("hub connection started")})},this.$routerOnActivate=function(o){},n.gotoRegister=function(){console.log("register"),this.$router.navigate(["Register"])},n.gotoSearch=function(){console.log("goto search"),this.$router.navigate(["Search"])}}var n=angular.module("app");n.component("welcome",{bindings:{$router:"<"},templateUrl:"app/welcome.component.html",controller:["visitorService",o]})}();
!function(){function e(){function e(){c={}}function n(){return c}function a(){return i}function t(e){c=e}function r(e){i=e}function o(e){return console.log("search for "+e),[{firstname:"Mark",lastname:"Lawrence",zipcode:"11111"},{firstname:"John",lastname:"Doe",zipcode:"11111"},{firstname:"Brent",lastname:"Jones",zipcode:"11111"},{firstname:"Hugh",lastname:"Jackman",zipcode:"11111"},{firstname:"Jack",lastname:"Mandela",zipcode:"11111"}]}var c={},i="";return{clear:e,get:n,getTerm:a,set:t,setTerm:r,search:o}}var n=angular.module("app");n.factory("visitorService",["$http",e])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJmaW5pc2guY29tcG9uZW50LmpzIiwicGxlZGdlLmNvbXBvbmVudC5qcyIsInJlZ2lzdGVyLmNvbXBvbmVudC5qcyIsInJlc3VsdHMuY29tcG9uZW50LmpzIiwic2VhcmNoLmNvbXBvbmVudC5qcyIsIndlbGNvbWUuY29tcG9uZW50LmpzIiwic2VydmljZXMvdmlzaXRvci5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImFuZ3VsYXIiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZSIsIiRyb3V0ZUNvbmZpZyIsInBhdGgiLCJuYW1lIiwidXNlQXNEZWZhdWx0IiwidmFsdWUiLCJjb250cm9sbGVyIiwidmlzaXRvciIsIiR0aW1lb3V0IiwiJGN0cmwiLCJ0aGlzIiwiY291bnREb3duV2F0Y2giLCJjb3VudERvd25fdGljayIsImNsZWFyIiwiJHJvdXRlciIsIm5hdmlnYXRlIiwiJG9uSW5pdCIsImNvbnNvbGUiLCJsb2ciLCIkcm91dGVyT25BY3RpdmF0ZSIsIm5leHQiLCJiaW5kaW5ncyIsInRlbXBsYXRlVXJsIiwiZ2V0IiwiZ290b1dlbGNvbWUiLCJnb3RvUmVnaXN0ZXIiLCJwbGVkZ2UiLCJnb3RvUGxlZGdlIiwicGFnaW5nIiwiY3VycmVudFBhZ2UiLCJnZXRUZXJtIiwidmlzaXRvcnMiLCJzZWFyY2giLCJnb3RvU2VhcmNoIiwidG9nZ2xlTmFtZSIsInBhZ2VDaGFuZ2VkIiwicGFnZSIsImdvdG9TZWFyY2hSZXN1bHRzIiwic2V0VGVybSIsInNlYXJjaFRlcm0iLCIkIiwiY29ubmVjdGlvbiIsImh1YiIsInVybCIsIm5hbWVOb3RpZmljYXRpb25IdWIiLCJzdGFydCIsImRvbmUiLCJmYWN0b3J5IiwidGVybSIsInNldCIsInYiLCJ0IiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ6aXBjb2RlIl0sIm1hcHBpbmdzIjoiQ0FDQSxXQUNJLEdBQUlBLEdBQVNDLFFBQVFELE9BQU8sT0FBUSxxQkFFcENBLEdBQU9FLFVBQVUs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c0IsVUFBWVAsUUFBUyxLQUNyQlEsWUFBYSw2QkFDYmhCLFlBQWEsaUJBQWtCQTtDQ2xDM0MsV0FHSSxRQUFTeUMsS0FhTCxRQUFTbEMsS0FDTE4sS0FHSixRQUFTZ0IsS0FDTCxNQUFPaEIsR0FHWCxRQUFTdUIsS0FDTCxNQUFPa0IsR0FHWCxRQUFTQyxHQUFJQyxHQUNUM0MsRUFBVTJDLEVBR2QsUUFBU1osR0FBUWEsR0FDYkgsRUFBT0csRUFHWCxRQUFTbkIsR0FBT2dCLEdBRVosTUFEQS9CLFNBQVFDLElBQUksY0FBZ0I4QixLQUV0QkksVUFBVyxPQUFRQyxTQUFVLFdBQVlDLFFBQVMsVUFDbERGLFVBQVcsT0FBUUMsU0FBVSxNQUFPQyxRQUFTLFVBQzdDRixVQUFXLFFBQVNDLFNBQVUsUUFBU0MsUUFBUyxVQUNoREYsVUFBVyxPQUFRQyxTQUFVLFVBQVdDLFFBQVMsVUFDakRGLFVBQVcsT0FBUUMsU0FBVSxVQUFXQyxRQUFTLFVBdkMzRCxHQUFJL0MsTUFDQXlDLEVBQU8sRUFFWCxRQUNJbkMsTUFBT0EsRUFDUFUsSUFBS0EsRUFDTE8sUUFBU0EsRUFDVG1CLElBQUtBLEVBQ0xYLFFBQVNBLEVBQ1ROLE9BQVFBLEdBWmhCLEdBQUluQyxHQUFTQyxRQUFRRCxPQUFPLE1BZ0Q1QkEsR0FBT2tELFFBQVEsa0JBQW1CLFFBQVNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2FwcC5tb2R1bGUuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyduZ0NvbXBvbmVudFJvdXRlciddKTtcclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdraW9zaycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxuZy1vdXRsZXQ+TG9hZGluZyAuLjwvbmctb3V0bGV0ID4nLFxyXG4gICAgICAgICAgICAkcm91dGVDb25maWc6IFtcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy8nLCBuYW1lOiAnV2VsY29tZScsIGNvbXBvbmVudDogJ3dlbGNvbWUnLCB1c2VBc0RlZmF1bHQ6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy9yZWdpc3RlcicsIG5hbWU6ICdSZWdpc3RlcicsIGNvbXBvbmVudDogJ3JlZ2lzdGVyJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3BsZWRnZScsIG5hbWU6ICdQbGVkZ2UnLCBjb21wb25lbnQ6ICdwbGVkZ2UnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhdGg6ICcvZmluaXNoJywgbmFtZTogJ0ZpbmlzaCcsIGNvbXBvbmVudDogJ2ZpbmlzaCcgfSxcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy9zZWFyY2gnLCBuYW1lOiAnU2VhcmNoJywgY29tcG9uZW50OiAnc2VhcmNoJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3Jlc3VsdHMnLCBuYW1lOiAnUmVzdWx0cycsIGNvbXBvbmVudDogJ3Jlc3VsdHMnIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0pO1xyXG4gICAgbW9kdWxlLnZhbHVlKCckcm91dGVyUm9vdENvbXBvbmVudCcsICdraW9zaycpO1xyXG59XHJcbikoKTsiLCIvL2ZpbmlzaC5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcih2aXNpdG9yLCAkdGltZW91dCkge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJGN0cmwuY291bnREb3duV2F0Y2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkY3RybC5jb3VudERvd25fdGljayA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2aXNpdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLmNvdW50RG93bl90aWNrLS07XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dCgkY3RybC5jb3VudERvd25XYXRjaCwgMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZmluaXNoIGluaXQnKTtcclxuICAgICAgICAgICAgJGN0cmwuY291bnREb3duX3RpY2sgPSAzO1xyXG4gICAgICAgICAgICAkY3RybC5jb3VudERvd25XYXRjaCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kcm91dGVyT25BY3RpdmF0ZSA9IGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgIC8vIExvYWQgdXAgdGhlIGhlcm9lcyBmb3IgdGhpcyB2aWV3XHJcbiAgICAgICAgICAgICRjdHJsLiRyb3V0ZXIgPSB0aGlzLiRyb3V0ZXI7IFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ2ZpbmlzaCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICAgICAgJHJvdXRlcjogJzwnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2ZpbmlzaC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsndmlzaXRvclNlcnZpY2UnLCAnJHRpbWVvdXQnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3BsZWRnZS5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcih2aXNpdG9yKSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGN0cmwudmlzaXRvciA9IHZpc2l0b3IuZ2V0KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGVkZ2UgaW5pdCcsICRjdHJsKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgLy8gTG9hZCB1cCB0aGUgaGVyb2VzIGZvciB0aGlzIHZpZXdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkY3RybC5nb3RvV2VsY29tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvdG8gd2VsY29tZScpO1xyXG4gICAgICAgICAgICB2aXNpdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3RvIHJlZ2lzdGVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1JlZ2lzdGVyJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwucGxlZGdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXZlIHZpc2l0b3InKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnRmluaXNoJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdwbGVkZ2UnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICRyb3V0ZXI6ICc8J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9wbGVkZ2UuY29tcG9uZW50Lmh0bWwnLCBcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyd2aXNpdG9yU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcbn1cclxuKSgpOyIsIi8vcmVnaXN0ZXIuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7IFxyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRjdHJsLnZpc2l0b3IgPSB2aXNpdG9yLmdldCgpOyBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Zpc2l0b3Igc2VydmljZScpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9XZWxjb21lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvUGxlZGdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydQbGVkZ2UnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3JlZ2lzdGVyJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7ICRyb3V0ZXI6ICc8JyB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9yZWdpc3Rlci5jb21wb25lbnQuaHRtbCcsIFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJ3Zpc2l0b3JTZXJ2aWNlJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG59XHJcbikoKTsiLCIvL3Jlc3VsdHMuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgICRjdHJsLnBhZ2luZyA9IHtcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDFcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWFyY2ggaW5pdCcsIHZpc2l0b3IuZ2V0VGVybSgpKTtcclxuICAgICAgICAgICAgJGN0cmwudmlzaXRvcnMgPSB2aXNpdG9yLnNlYXJjaCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndmlzaXRvcnMnLCAkY3RybC52aXNpdG9ycyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1dlbGNvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3RvIHdlbGNvbWUnKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9TZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWFyY2gnKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnU2VhcmNoJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwucGxlZGdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncGxlZGdlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1BsZWRnZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnRvZ2dsZU5hbWUgPSBmdW5jdGlvbiAodmlzaXRvcikge1xyXG4gICAgICAgICAgICAkY3RybC52aXNpdG9yID0gdmlzaXRvcjtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Zpc2l0b3Igc2VsZWN0ZWQnLCAkY3RybC52aXNpdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnBhZ2VDaGFuZ2VkID0gZnVuY3Rpb24gKHBhZ2UpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhZ2VkJywgcGFnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdyZXN1bHRzJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7ICRyb3V0ZXI6ICc8JyB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9yZXN1bHRzLmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyd2aXNpdG9yU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcbn1cclxuKSgpOyIsIi8vc2VhcmNoLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKHZpc2l0b3IpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VhcmNoIGluaXQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9XZWxjb21lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ290byB3ZWxjb21lJyk7XHJcbiAgICAgICAgICAgIHZpc2l0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9TZWFyY2hSZXN1bHRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWFyY2ggcmVzdWx0cycpO1xyXG4gICAgICAgICAgICB2aXNpdG9yLnNldFRlcm0oJGN0cmwuc2VhcmNoVGVybSk7IFxyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydSZXN1bHRzJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdzZWFyY2gnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHsgJHJvdXRlcjogJzwnIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3NlYXJjaC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsndmlzaXRvclNlcnZpY2UnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3dlbGNvbWUuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7IFxyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd3ZWxjb21lIGluaXQnLCAkY3RybCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2aXNpdG9yJywgdmlzaXRvci5nZXQoKSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9odHRwOi8vbG9jYWxob3N0OjQ5OTYwL1xyXG4gICAgICAgICAgICAkLmNvbm5lY3Rpb24uaHViLnVybCA9ICdodHRwOi8vbG9jYWxob3N0OjQ5OTYwL3NpZ25hbHInO1xyXG4gICAgICAgICAgICB2YXIgaHViID0gJC5jb25uZWN0aW9uLm5hbWVOb3RpZmljYXRpb25IdWI7XHJcbiAgICAgICAgICAgICQuY29ubmVjdGlvbi5odWIuc3RhcnQoKS5kb25lKGZ1bmN0aW9uICgpIHsgY29uc29sZS5sb2coJ2h1YiBjb25uZWN0aW9uIHN0YXJ0ZWQnKTsgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHsgfTtcclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1JlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWdpc3RlcicpO1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydSZWdpc3RlciddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9TZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnb3RvIHNlYXJjaCcpO1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydTZWFyY2gnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3dlbGNvbWUnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHsgJHJvdXRlcjogJzwnIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3dlbGNvbWUuY29tcG9uZW50Lmh0bWwnLCBcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyd2aXNpdG9yU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcblxyXG59XHJcbikoKTsiLCIvL3Zpc2l0b3Iuc2VydmljZS5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCkge1xyXG4gICAgICAgIHZhciB2aXNpdG9yID0ge307XHJcbiAgICAgICAgdmFyIHRlcm0gPSAnJztcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2xlYXI6IGNsZWFyLFxyXG4gICAgICAgICAgICBnZXQ6IGdldCxcclxuICAgICAgICAgICAgZ2V0VGVybTogZ2V0VGVybSxcclxuICAgICAgICAgICAgc2V0OiBzZXQsXHJcbiAgICAgICAgICAgIHNldFRlcm06IHNldFRlcm0sXHJcbiAgICAgICAgICAgIHNlYXJjaDogc2VhcmNoXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRUZXJtKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGVybTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldCh2KSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0VGVybSh0KSB7XHJcbiAgICAgICAgICAgIHRlcm0gPSB0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoKHRlcm0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlYXJjaCBmb3IgJyArIHRlcm0pO1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgeyBmaXJzdG5hbWU6ICdNYXJrJywgbGFzdG5hbWU6ICdMYXdyZW5jZScsIHppcGNvZGU6ICcxMTExMScgfSxcclxuICAgICAgICAgICAgICAgIHsgZmlyc3RuYW1lOiAnSm9obicsIGxhc3RuYW1lOiAnRG9lJywgemlwY29kZTogJzExMTExJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaXJzdG5hbWU6ICdCcmVudCcsIGxhc3RuYW1lOiAnSm9uZXMnLCB6aXBjb2RlOiAnMTExMTEnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpcnN0bmFtZTogJ0h1Z2gnLCBsYXN0bmFtZTogJ0phY2ttYW4nLCB6aXBjb2RlOiAnMTExMTEnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpcnN0bmFtZTogJ0phY2snLCBsYXN0bmFtZTogJ01hbmRlbGEnLCB6aXBjb2RlOiAnMTExMTEnIH0sXHJcbiAgICAgICAgICAgIF07IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmZhY3RvcnkoJ3Zpc2l0b3JTZXJ2aWNlJywgWyckaHR0cCcsIGZhY3RvcnldKTtcclxuXHJcbn1cclxuKSgpOyJdfQ==
