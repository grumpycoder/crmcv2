!function(){var e=angular.module("app",["ngComponentRouter","ui.bootstrap","ngMessages"]);e.component("kiosk",{template:"<ng-outlet>Loading ..</ng-outlet >",$routeConfig:[{path:"/",name:"Welcome",component:"welcome",useAsDefault:!0},{path:"/register",name:"Register",component:"register"},{path:"/pledge",name:"Pledge",component:"pledge"},{path:"/finish",name:"Finish",component:"finish"},{path:"/search",name:"Search",component:"search"},{path:"/results",name:"Results",component:"results"}]}),e.value("$routerRootComponent","kiosk")}();
!function(){function n(n,t){var o=this;o.countDownWatch=function(){o.countDown_tick<=0?(n.clear(),o.$router.navigate(["Welcome"])):(o.countDown_tick--,t(o.countDownWatch,1e3))},o.$onInit=function(){console.log("finish init",n.get()),$.connection.hub.url="http://localhost:49960/signalr";var t=$.connection.nameNotificationHub;$.connection.hub.start().done(function(){console.log("hub connection started"),t.server.addName(1,n.get())}),o.countDown_tick=3},this.$routerOnActivate=function(n){o.$router=this.$router}}var t=angular.module("app");t.component("finish",{bindings:{$router:"<"},templateUrl:"app/finish.component.html",controller:["visitorService","$timeout",n]})}();
!function(){function t(t,e){var o=this;o.$onInit=function(){o.visitor=e.get(),console.log("pledge init",o)},this.$routerOnActivate=function(t){},o.gotoWelcome=function(){e.clear(),this.$router.navigate(["Welcome"])},o.gotoRegister=function(){this.$router.navigate(["Register"])},o.pledge=function(){e.get().id?console.log("returning visitor",e.get()):(console.log("save new visitor",e.get()),t.post("http://localhost:49960/api/visitor",e.get()).then(function(t){console.log("saved new visitor",e.get())}).catch(function(t){console.error("something went wrong",t.message)})),this.$router.navigate(["Finish"])}}var e=angular.module("app");e.component("pledge",{bindings:{$router:"<"},templateUrl:"app/pledge.component.html",controller:["$http","visitorService",t]})}();
!function(){function o(o){var e=this;e.$onInit=function(){e.visitor=o.get(),console.log("visitor service")},e.gotoWelcome=function(){this.$router.navigate(["Welcome"])},e.gotoPledge=function(){console.log(e.form)}}var e=angular.module("app");e.component("register",{bindings:{$router:"<"},templateUrl:"app/register.component.html",controller:["visitorService",o]})}();
!function(){function e(e,t){var o,a=this,s=10;a.searchModel={page:1,pageSize:s},a.paging={currentPage:1},a.$onInit=function(){console.log("search init",t.getTerm());const o=t.getTerm().split(" ");o.length>1?(a.searchModel.firstname=o[0],a.searchModel.lastname=o[1]):a.searchModel.lastname=o[0],e.get("http://localhost:49960/api/visitor",{params:a.searchModel}).then(function(e){a.visitors=e.data.results,a.searchModel=e.data,delete a.searchModel.results,console.log("visitors",a.visitors)})},a.gotoWelcome=function(){this.$router.navigate(["Welcome"])},a.gotoSearch=function(){this.$router.navigate(["Search"])},a.pledge=function(){t.clearTerm(),this.$router.navigate(["Pledge"])},a.toggleName=function(e){a.visitor=e,t.set(e)},a.search=function(t){o=t,e.get("http://localhost:49960/api/visitor",{params:a.searchModel}).then(function(e){a.visitors=e.data.results,a.searchModel=e.data,delete a.searchModel.results})},a.paged=function(){a.visitor=null,a.search(o)}}var t=angular.module("app");t.component("results",{bindings:{$router:"<"},templateUrl:"app/results.component.html",controller:["$http","visitorService",e]})}();
!function(){function e(e){var t=this;t.$onInit=function(){console.log("search init"),t.searchTerm=e.getTerm()},t.gotoWelcome=function(){e.clear(),this.$router.navigate(["Welcome"])},t.gotoSearchResults=function(){e.setTerm(t.searchTerm),this.$router.navigate(["Results"])}}var t=angular.module("app");t.component("search",{bindings:{$router:"<"},templateUrl:"app/search.component.html",controller:["visitorService",e]})}();
!function(){function t(t){var e=this;e.$onInit=function(){console.log("welcome init",t.get())},this.$routerOnActivate=function(t){},e.gotoRegister=function(){this.$router.navigate(["Register"])},e.gotoSearch=function(){this.$router.navigate(["Search"])}}var e=angular.module("app");e.component("welcome",{bindings:{$router:"<"},templateUrl:"app/welcome.component.html",controller:["visitorService",t]})}();
!function(){function e(){function e(){i={}}function n(){s=""}function a(){return i}function t(){return s}function r(e){i=e}function c(e){s=e}function o(e){return console.log("search for "+e),[{firstname:"Mark",lastname:"Lawrence",zipcode:"11111"},{firstname:"John",lastname:"Doe",zipcode:"11111"},{firstname:"Brent",lastname:"Jones",zipcode:"11111"},{firstname:"Hugh",lastname:"Jackman",zipcode:"11111"},{firstname:"Jack",lastname:"Mandela",zipcode:"11111"}]}var i={},s="";return{clear:e,clearTerm:n,get:a,getTerm:t,set:r,setTerm:c,search:o}}var n=angular.module("app");n.factory("visitorService",["$http",e])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJmaW5pc2guY29tcG9uZW50LmpzIiwicGxlZGdlLmNvbXBvbmVudC5qcyIsInJlZ2lzdGVyLmNvbXBvbmVudC5qcyIsInJlc3VsdHMuY29tcG9uZW50LmpzIiwic2VhcmNoLmNvbXBvbmVudC5qcyIsIndlbGNvbWUuY29tcG9uZW50LmpzIiwic2VydmljZXMvdmlzaXRvci5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImFuZ3VsYXIiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZSIsIiRyb3V0ZUNvbmZpZyIsInBhdGgiLCJuYW1lIiwidXNlQXNEZWZhdWx0IiwidmFsdWUiLCJjb250cm9sbGVyIiwidmlzaXRvciIsIiR0aW1lb3V0IiwiJGN0cmwiLCJ0aGlzIiwiY291bnREb3duV2F0Y2giLCJjb3VudERvd25fdGljayIsImNsZWFyIiwiJHJvdXRlciIsIm5hdmlnYXRlIiwiJG9uSW5pdCIsImNvbnNvbGUiLCJsb2ciLCJnZXQiLCIkIiwiY29ubmVjdGlvbiIsImh1YiIsInVybCIsIm5hbWVOb3RpZmljYXRpb25IdWIiLCJzdGFydCIsImRvbmUiLCJzZXJ2ZXIiLCJhZGROYW1lIiwiJHJvdXRlck9uQWN0aXZhdGUiLCJuZXh0IiwiYmluZGluZ3MiLCJ0ZW1wbGF0ZVVybCIsIiRodHRwIiwiZ290b1dlbGNvbWUiLCJnb3RvUmVnaXN0ZXIiLCJwbGVkZ2UiLCJpZCIsInBvc3QiLCJ0aGVuIiwiciIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIiwiZ290b1BsZWRnZSIsImZvcm0iLCJ0YWJsZVN0YXRlUmVmIiwicGFnZVNpemVEZWZhdWx0Iiwic2VhcmNoTW9kZWwiLCJwYWdlIiwicGFnZVNpemUiLCJwYWdpbmciLCJjdXJyZW50UGFnZSIsImdldFRlcm0iLCJuYW1lcyIsInNwbGl0IiwibGVuZ3RoIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJwYXJhbXMiLCJ2aXNpdG9ycyIsImRhdGEiLCJyZXN1bHRzIiwiZ290b1NlYXJjaCIsImNsZWFyVGVybSIsInRvZ2dsZU5hbWUiLCJ2Iiwic2V0Iiwic2VhcmNoIiwidGFibGVTdGF0ZSIsInBhZ2VkIiwic2VhcmNoVGVybSIsImdvdG9TZWFyY2hSZXN1bHRzIiwic2V0VGVybSIsImZhY3RvcnkiLCJ0ZXJtIiwidCIsInppcGNvZGUiXSwibWFwcGluZ3MiOiJDQUNBLFdBQ0ksR0FBSUEsR0FBU0MsUUFBUUQsT0FBTyxPQUFRLG9CQUFxQixlQUFnQixjQUV6RUEsR0FBT0UsVUFBVSxTQUVUQyxTQUFVLHFDQUNWQyxlQUNNQyxLQUFNLElBQUtDLEtBQU0sVUFBV0osVUFBVyxVQUFXSyxjQUFjLElBQ2hFRixLQUFNLFlBQWFDLEtBQU0sV0FBWUosVUFBVyxhQUNoREcsS0FBTSxVQUFXQyxLQUFNLFNBQVVKLFVBQVcsV0FDNUNHLEtBQU0sVUFBV0MsS0FBTSxTQUFVSixVQUFXLFdBQzVDRyxLQUFNLFVBQVdDLEtBQU0sU0FBVUosVUFBVyxXQUM1Q0csS0FBTSxXQUFZQyxLQUFNLFVBQVdKLFVBQVcsY0FHNURGLEVBQU9RLE1BQU0sdUJBQXdCO0NDZnpDLFdBSUksUUFBU0MsR0FBV0MsRUFBU0MsR0FDekIsR0FBSUMsR0FBUUMsSUFFWkQsR0FBTUUsZUFBaUIsV0FDZkYsRUFBTUcsZ0JBQWtCLEdBQ3hCTCxFQUFRTSxRQUNSSixFQUFNSyxRQUFRQyxVQUFVLGNBRXhCTixFQUFNRyxpQkFDTkosRUFBU0MsRUFBTUUsZUFBZ0IsT0FJdkNGLEVBQU1PLFFBQVUsV0FDWkMsUUFBUUMsSUFBSSxjQUFlWCxFQUFRWSxPQUNuQ0MsRUFBRUMsV0FBV0MsSUFBSUMsSUFBTSxnQ0FDdkIsSUFBSUQsR0FBTUYsRUFBRUMsV0FBV0csbUJBQ3ZCSixHQUFFQyxXQUFXQyxJQUFJRyxRQUFRQyxLQUFLLFdBQzFCVCxRQUFRQyxJQUFJLDBCQUNaSSxFQUFJSyxPQUFPQyxRQUFRLEVBQUdyQixFQUFRWSxTQUdsQ1YsRUFBTUcsZUFBaUIsR0FJM0JGLEtBQUttQixrQkFBb0IsU0FBVUMsR0FFL0JyQixF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LFVBQVlqQixRQUFTLEtBQ3JCa0IsWUFBYSw2QkFDYjFCLFlBQWEsaUJBQWtCQTtDQ3pCM0MsV0FJSSxRQUFTcUUsS0FjTCxRQUFTOUQsS0FDTE4sS0FHSixRQUFTMEQsS0FDTFcsRUFBTyxHQUdYLFFBQVN6RCxLQUNMLE1BQU9aLEdBR1gsUUFBUytDLEtBQ0wsTUFBT3NCLEdBR1gsUUFBU1IsR0FBSUQsR0FDVDVELEVBQVU0RCxFQUdkLFFBQVNPLEdBQVFHLEdBQ2JELEVBQU9DLEVBR1gsUUFBU1IsR0FBT08sR0FFWixNQURBM0QsU0FBUUMsSUFBSSxjQUFnQjBELEtBRXRCbEIsVUFBVyxPQUFRQyxTQUFVLFdBQVltQixRQUFTLFVBQ2xEcEIsVUFBVyxPQUFRQyxTQUFVLE1BQU9tQixRQUFTLFVBQzdDcEIsVUFBVyxRQUFTQyxTQUFVLFFBQVNtQixRQUFTLFVBQ2hEcEIsVUFBVyxPQUFRQyxTQUFVLFVBQVdtQixRQUFTLFVBQ2pEcEIsVUFBVyxPQUFRQyxTQUFVLFVBQVdtQixRQUFTLFVBNUMzRCxHQUFJdkUsTUFDQXFFLEVBQU8sRUFFWCxRQUNJL0QsTUFBT0EsRUFDUG9ELFVBQVdBLEVBQ1g5QyxJQUFLQSxFQUNMbUMsUUFBU0EsRUFDVGMsSUFBS0EsRUFDTE0sUUFBU0EsRUFDVEwsT0FBUUEsR0FkaEIsR0FBSXhFLEdBQVNDLFFBQVFELE9BQU8sTUFzRDVCQSxHQUFPOEUsUUFBUSxrQkFBbUIsUUFBU0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vYXBwLm1vZHVsZS5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ25nQ29tcG9uZW50Um91dGVyJywgJ3VpLmJvb3RzdHJhcCcsICduZ01lc3NhZ2VzJ10pO1xyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ2tpb3NrJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPG5nLW91dGxldD5Mb2FkaW5nIC4uPC9uZy1vdXRsZXQgPicsXHJcbiAgICAgICAgICAgICRyb3V0ZUNvbmZpZzogW1xyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnLycsIG5hbWU6ICdXZWxjb21lJywgY29tcG9uZW50OiAnd2VsY29tZScsIHVzZUFzRGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3JlZ2lzdGVyJywgbmFtZTogJ1JlZ2lzdGVyJywgY29tcG9uZW50OiAncmVnaXN0ZXInIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhdGg6ICcvcGxlZGdlJywgbmFtZTogJ1BsZWRnZScsIGNvbXBvbmVudDogJ3BsZWRnZScgfSxcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy9maW5pc2gnLCBuYW1lOiAnRmluaXNoJywgY29tcG9uZW50OiAnZmluaXNoJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3NlYXJjaCcsIG5hbWU6ICdTZWFyY2gnLCBjb21wb25lbnQ6ICdzZWFyY2gnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhdGg6ICcvcmVzdWx0cycsIG5hbWU6ICdSZXN1bHRzJywgY29tcG9uZW50OiAncmVzdWx0cycgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICBtb2R1bGUudmFsdWUoJyRyb3V0ZXJSb290Q29tcG9uZW50JywgJ2tpb3NrJyk7XHJcbn1cclxuKSgpOyIsIi8vZmluaXNoLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuICAgIC8vVE9ETzogU0VUL0dFVCBraW9zayBudW1iZXIgZnJvbSBsb2NhbCBzdG9yYWdlXHJcbiAgICAvL1RPRE86IEdFVCBodWIgdXJsIGZyb20gc2V0dGluZ3NcclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvciwgJHRpbWVvdXQpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG5cclxuICAgICAgICAkY3RybC5jb3VudERvd25XYXRjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCRjdHJsLmNvdW50RG93bl90aWNrIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHZpc2l0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICRjdHJsLiRyb3V0ZXIubmF2aWdhdGUoWydXZWxjb21lJ10pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuY291bnREb3duX3RpY2stLTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KCRjdHJsLmNvdW50RG93bldhdGNoLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaW5pc2ggaW5pdCcsIHZpc2l0b3IuZ2V0KCkpO1xyXG4gICAgICAgICAgICAkLmNvbm5lY3Rpb24uaHViLnVybCA9ICdodHRwOi8vbG9jYWxob3N0OjQ5OTYwL3NpZ25hbHInO1xyXG4gICAgICAgICAgICB2YXIgaHViID0gJC5jb25uZWN0aW9uLm5hbWVOb3RpZmljYXRpb25IdWI7XHJcbiAgICAgICAgICAgICQuY29ubmVjdGlvbi5odWIuc3RhcnQoKS5kb25lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2h1YiBjb25uZWN0aW9uIHN0YXJ0ZWQnKTtcclxuICAgICAgICAgICAgICAgIGh1Yi5zZXJ2ZXIuYWRkTmFtZSgxLCB2aXNpdG9yLmdldCgpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkY3RybC5jb3VudERvd25fdGljayA9IDM7XHJcbiAgICAgICAgICAgIC8vJGN0cmwuY291bnREb3duV2F0Y2goKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJHJvdXRlck9uQWN0aXZhdGUgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAvLyBMb2FkIHVwIHRoZSBoZXJvZXMgZm9yIHRoaXMgdmlld1xyXG4gICAgICAgICAgICAkY3RybC4kcm91dGVyID0gdGhpcy4kcm91dGVyOyBcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdmaW5pc2gnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICRyb3V0ZXI6ICc8J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9maW5pc2guY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJ3Zpc2l0b3JTZXJ2aWNlJywgJyR0aW1lb3V0JywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxufVxyXG4pKCk7IiwiLy9wbGVkZ2UuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG4gICAgLy9UT0RPOiBHRVQgaHViIHVybCBmcm9tIHNldHRpbmdzXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKCRodHRwLCB2aXNpdG9yKSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGN0cmwudmlzaXRvciA9IHZpc2l0b3IuZ2V0KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGVkZ2UgaW5pdCcsICRjdHJsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJHJvdXRlck9uQWN0aXZhdGUgPSBmdW5jdGlvbiAobmV4dCkgeyB9O1xyXG5cclxuICAgICAgICAkY3RybC5nb3RvV2VsY29tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmlzaXRvci5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydXZWxjb21lJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydSZWdpc3RlciddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnBsZWRnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF2aXNpdG9yLmdldCgpLmlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2F2ZSBuZXcgdmlzaXRvcicsIHZpc2l0b3IuZ2V0KCkpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo0OTk2MC9hcGkvdmlzaXRvcicsIHZpc2l0b3IuZ2V0KCkpLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2F2ZWQgbmV3IHZpc2l0b3InLCB2aXNpdG9yLmdldCgpKTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzb21ldGhpbmcgd2VudCB3cm9uZycsIGVyci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JldHVybmluZyB2aXNpdG9yJywgdmlzaXRvci5nZXQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ0ZpbmlzaCddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgncGxlZGdlJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAkcm91dGVyOiAnPCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGxlZGdlLmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyckaHR0cCcsICd2aXNpdG9yU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcbn1cclxuKSgpOyIsIi8vcmVnaXN0ZXIuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7IFxyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRjdHJsLnZpc2l0b3IgPSB2aXNpdG9yLmdldCgpOyBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Zpc2l0b3Igc2VydmljZScpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9XZWxjb21lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvUGxlZGdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkY3RybC5mb3JtKTtcclxuICAgICAgICAgICAgLy90aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydQbGVkZ2UnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3JlZ2lzdGVyJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7ICRyb3V0ZXI6ICc8JyB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9yZWdpc3Rlci5jb21wb25lbnQuaHRtbCcsIFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJ3Zpc2l0b3JTZXJ2aWNlJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG59XHJcbikoKTsiLCIvL3Jlc3VsdHMuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG4gICAgLy9UT0RPOiBHRVQgaHViIHVybCBmcm9tIHNldHRpbmdzXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKCRodHRwLCB2aXNpdG9yKSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuXHJcbiAgICAgICAgdmFyIHBhZ2VTaXplRGVmYXVsdCA9IDEwO1xyXG4gICAgICAgIHZhciB0YWJsZVN0YXRlUmVmO1xyXG5cclxuICAgICAgICAkY3RybC5zZWFyY2hNb2RlbCA9IHtcclxuICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplRGVmYXVsdFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRjdHJsLnBhZ2luZyA9IHtcclxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDFcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWFyY2ggaW5pdCcsIHZpc2l0b3IuZ2V0VGVybSgpKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gdmlzaXRvci5nZXRUZXJtKCkuc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgaWYgKG5hbWVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLnNlYXJjaE1vZGVsLmZpcnN0bmFtZSA9IG5hbWVzWzBdOyBcclxuICAgICAgICAgICAgICAgICRjdHJsLnNlYXJjaE1vZGVsLmxhc3RuYW1lID0gbmFtZXNbMV07IFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwubGFzdG5hbWUgPSBuYW1lc1swXTsgXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRodHRwLmdldCgnaHR0cDovL2xvY2FsaG9zdDo0OTk2MC9hcGkvdmlzaXRvcicsIHsgcGFyYW1zOiAkY3RybC5zZWFyY2hNb2RlbCB9KS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAkY3RybC52aXNpdG9ycyA9IHIuZGF0YS5yZXN1bHRzO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwgPSByLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgJGN0cmwuc2VhcmNoTW9kZWwucmVzdWx0cztcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2aXNpdG9ycycsICRjdHJsLnZpc2l0b3JzKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1dlbGNvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvU2VhcmNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydTZWFyY2gnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5wbGVkZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IuY2xlYXJUZXJtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1BsZWRnZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnRvZ2dsZU5hbWUgPSBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAkY3RybC52aXNpdG9yID0gdjtcclxuICAgICAgICAgICAgdmlzaXRvci5zZXQodik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5zZWFyY2ggPSBmdW5jdGlvbiAodGFibGVTdGF0ZSkge1xyXG4gICAgICAgICAgICB0YWJsZVN0YXRlUmVmID0gdGFibGVTdGF0ZTtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjQ5OTYwL2FwaS92aXNpdG9yJywgeyBwYXJhbXM6ICRjdHJsLnNlYXJjaE1vZGVsIH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLnZpc2l0b3JzID0gci5kYXRhLnJlc3VsdHM7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5zZWFyY2hNb2RlbCA9IHIuZGF0YTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAkY3RybC5zZWFyY2hNb2RlbC5yZXN1bHRzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnBhZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkY3RybC52aXNpdG9yID0gbnVsbDsgXHJcbiAgICAgICAgICAgICRjdHJsLnNlYXJjaCh0YWJsZVN0YXRlUmVmKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3Jlc3VsdHMnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHsgJHJvdXRlcjogJzwnIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3Jlc3VsdHMuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJyRodHRwJywgJ3Zpc2l0b3JTZXJ2aWNlJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxufVxyXG4pKCk7IiwiLy9zZWFyY2guY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWFyY2ggaW5pdCcpO1xyXG4gICAgICAgICAgICAkY3RybC5zZWFyY2hUZXJtID0gdmlzaXRvci5nZXRUZXJtKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvV2VsY29tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmlzaXRvci5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydXZWxjb21lJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1NlYXJjaFJlc3VsdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmlzaXRvci5zZXRUZXJtKCRjdHJsLnNlYXJjaFRlcm0pOyBcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnUmVzdWx0cyddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgnc2VhcmNoJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7ICRyb3V0ZXI6ICc8JyB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9zZWFyY2guY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJ3Zpc2l0b3JTZXJ2aWNlJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxufVxyXG4pKCk7IiwiLy93ZWxjb21lLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKHZpc2l0b3IpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzOyBcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnd2VsY29tZSBpbml0JywgdmlzaXRvci5nZXQoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHsgfTtcclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1JlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1JlZ2lzdGVyJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnU2VhcmNoJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCd3ZWxjb21lJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7ICRyb3V0ZXI6ICc8JyB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC93ZWxjb21lLmNvbXBvbmVudC5odG1sJywgXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsndmlzaXRvclNlcnZpY2UnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG5cclxufVxyXG4pKCk7IiwiLy92aXNpdG9yLnNlcnZpY2UuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbiAgICAvL1RPRE86IEltcGxlbWVudCBzZWFyY2hcclxuXHJcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCkge1xyXG4gICAgICAgIHZhciB2aXNpdG9yID0ge307XHJcbiAgICAgICAgdmFyIHRlcm0gPSAnJztcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2xlYXI6IGNsZWFyLFxyXG4gICAgICAgICAgICBjbGVhclRlcm06IGNsZWFyVGVybSwgXHJcbiAgICAgICAgICAgIGdldDogZ2V0LFxyXG4gICAgICAgICAgICBnZXRUZXJtOiBnZXRUZXJtLFxyXG4gICAgICAgICAgICBzZXQ6IHNldCxcclxuICAgICAgICAgICAgc2V0VGVybTogc2V0VGVybSxcclxuICAgICAgICAgICAgc2VhcmNoOiBzZWFyY2hcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbGVhcigpIHtcclxuICAgICAgICAgICAgdmlzaXRvciA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2xlYXJUZXJtKCkge1xyXG4gICAgICAgICAgICB0ZXJtID0gJyc7IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFRlcm0oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXJtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0KHYpIHtcclxuICAgICAgICAgICAgdmlzaXRvciA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRUZXJtKHQpIHtcclxuICAgICAgICAgICAgdGVybSA9IHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZWFyY2godGVybSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VhcmNoIGZvciAnICsgdGVybSk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICB7IGZpcnN0bmFtZTogJ01hcmsnLCBsYXN0bmFtZTogJ0xhd3JlbmNlJywgemlwY29kZTogJzExMTExJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaXJzdG5hbWU6ICdKb2huJywgbGFzdG5hbWU6ICdEb2UnLCB6aXBjb2RlOiAnMTExMTEnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpcnN0bmFtZTogJ0JyZW50JywgbGFzdG5hbWU6ICdKb25lcycsIHppcGNvZGU6ICcxMTExMScgfSxcclxuICAgICAgICAgICAgICAgIHsgZmlyc3RuYW1lOiAnSHVnaCcsIGxhc3RuYW1lOiAnSmFja21hbicsIHppcGNvZGU6ICcxMTExMScgfSxcclxuICAgICAgICAgICAgICAgIHsgZmlyc3RuYW1lOiAnSmFjaycsIGxhc3RuYW1lOiAnTWFuZGVsYScsIHppcGNvZGU6ICcxMTExMScgfSxcclxuICAgICAgICAgICAgXTsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuZmFjdG9yeSgndmlzaXRvclNlcnZpY2UnLCBbJyRodHRwJywgZmFjdG9yeV0pO1xyXG5cclxufVxyXG4pKCk7Il19
