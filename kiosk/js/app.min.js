!function(){var e=angular.module("app",["ngComponentRouter","ui.bootstrap"]);e.component("kiosk",{template:"<ng-outlet>Loading ..</ng-outlet >",$routeConfig:[{path:"/",name:"Welcome",component:"welcome",useAsDefault:!0},{path:"/register",name:"Register",component:"register"},{path:"/pledge",name:"Pledge",component:"pledge"},{path:"/finish",name:"Finish",component:"finish"},{path:"/search",name:"Search",component:"search"},{path:"/results",name:"Results",component:"results"}]}),e.value("$routerRootComponent","kiosk")}();
!function(){function n(n,t){var o=this;o.countDownWatch=function(){o.countDown_tick<=0?(n.clear(),o.$router.navigate(["Welcome"])):(o.countDown_tick--,t(o.countDownWatch,1e3))},o.$onInit=function(){console.log("finish init",n.get()),$.connection.hub.url="http://localhost:49960/signalr";var t=$.connection.nameNotificationHub;$.connection.hub.start().done(function(){console.log("hub connection started"),t.server.addName(1,n.get())}),o.countDown_tick=3,o.countDownWatch()},this.$routerOnActivate=function(n){o.$router=this.$router}}var t=angular.module("app");t.component("finish",{bindings:{$router:"<"},templateUrl:"app/finish.component.html",controller:["visitorService","$timeout",n]})}();
!function(){function t(t,e){var o=this;o.$onInit=function(){o.visitor=e.get(),console.log("pledge init",o)},this.$routerOnActivate=function(t){},o.gotoWelcome=function(){e.clear(),this.$router.navigate(["Welcome"])},o.gotoRegister=function(){this.$router.navigate(["Register"])},o.pledge=function(){e.get().id?console.log("returning visitor",e.get()):(console.log("save new visitor",e.get()),t.post("http://localhost:49960/api/visitor",e.get()).then(function(t){console.log("saved new visitor",e.get())}).catch(function(t){console.error("something went wrong",t.message)})),this.$router.navigate(["Finish"])}}var e=angular.module("app");e.component("pledge",{bindings:{$router:"<"},templateUrl:"app/pledge.component.html",controller:["$http","visitorService",t]})}();
!function(){function e(e){var o=this;o.$onInit=function(){o.visitor=e.get(),console.log("visitor service")},o.gotoWelcome=function(){this.$router.navigate(["Welcome"])},o.gotoPledge=function(){this.$router.navigate(["Pledge"])}}var o=angular.module("app");o.component("register",{bindings:{$router:"<"},templateUrl:"app/register.component.html",controller:["visitorService",e]})}();
!function(){function e(e,t){var o,a=this,s=10;a.searchModel={page:1,pageSize:s},a.paging={currentPage:1},a.$onInit=function(){console.log("search init",t.getTerm());const o=t.getTerm().split(" ");o.length>1?(a.searchModel.firstname=o[0],a.searchModel.lastname=o[1]):a.searchModel.lastname=o[0],e.get("http://localhost:49960/api/visitor",{params:a.searchModel}).then(function(e){a.visitors=e.data.results,a.searchModel=e.data,delete a.searchModel.results,console.log("visitors",a.visitors)})},a.gotoWelcome=function(){this.$router.navigate(["Welcome"])},a.gotoSearch=function(){this.$router.navigate(["Search"])},a.pledge=function(){t.clearTerm(),this.$router.navigate(["Pledge"])},a.toggleName=function(e){a.visitor=e,t.set(e)},a.search=function(t){o=t,e.get("http://localhost:49960/api/visitor",{params:a.searchModel}).then(function(e){a.visitors=e.data.results,a.searchModel=e.data,delete a.searchModel.results})},a.paged=function(){a.search(o)}}var t=angular.module("app");t.component("results",{bindings:{$router:"<"},templateUrl:"app/results.component.html",controller:["$http","visitorService",e]})}();
!function(){function e(e){var t=this;t.$onInit=function(){console.log("search init"),t.searchTerm=e.getTerm()},t.gotoWelcome=function(){e.clear(),this.$router.navigate(["Welcome"])},t.gotoSearchResults=function(){e.setTerm(t.searchTerm),this.$router.navigate(["Results"])}}var t=angular.module("app");t.component("search",{bindings:{$router:"<"},templateUrl:"app/search.component.html",controller:["visitorService",e]})}();
!function(){function t(t){var e=this;e.$onInit=function(){console.log("welcome init",t.get())},this.$routerOnActivate=function(t){},e.gotoRegister=function(){this.$router.navigate(["Register"])},e.gotoSearch=function(){this.$router.navigate(["Search"])}}var e=angular.module("app");e.component("welcome",{bindings:{$router:"<"},templateUrl:"app/welcome.component.html",controller:["visitorService",t]})}();
!function(){function e(){function e(){i={}}function n(){s=""}function a(){return i}function t(){return s}function r(e){i=e}function c(e){s=e}function o(e){return console.log("search for "+e),[{firstname:"Mark",lastname:"Lawrence",zipcode:"11111"},{firstname:"John",lastname:"Doe",zipcode:"11111"},{firstname:"Brent",lastname:"Jones",zipcode:"11111"},{firstname:"Hugh",lastname:"Jackman",zipcode:"11111"},{firstname:"Jack",lastname:"Mandela",zipcode:"11111"}]}var i={},s="";return{clear:e,clearTerm:n,get:a,getTerm:t,set:r,setTerm:c,search:o}}var n=angular.module("app");n.factory("visitorService",["$http",e])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJmaW5pc2guY29tcG9uZW50LmpzIiwicGxlZGdlLmNvbXBvbmVudC5qcyIsInJlZ2lzdGVyLmNvbXBvbmVudC5qcyIsInJlc3VsdHMuY29tcG9uZW50LmpzIiwic2VhcmNoLmNvbXBvbmVudC5qcyIsIndlbGNvbWUuY29tcG9uZW50LmpzIiwic2VydmljZXMvdmlzaXRvci5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImFuZ3VsYXIiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZSIsIiRyb3V0ZUNvbmZpZyIsInBhdGgiLCJuYW1lIiwidXNlQXNEZWZhdWx0IiwidmFsdWUiLCJjb250cm9sbGVyIiwidmlzaXRvciIsIiR0aW1lb3V0IiwiJGN0cmwiLCJ0aGlzIiwiY291bnREb3duV2F0Y2giLCJjb3VudERvd25fdGljayIsImNsZWFyIiwiJHJvdXRlciIsIm5hdmlnYXRlIiwiJG9uSW5pdCIsImNvbnNvbGUiLCJsb2ciLCJnZXQiLCIkIiwiY29ubmVjdGlvbiIsImh1YiIsInVybCIsIm5hbWVOb3RpZmljYXRpb25IdWIiLCJzdGFydCIsImRvbmUiLCJzZXJ2ZXIiLCJhZGROYW1lIiwiJHJvdXRlck9uQWN0aXZhdGUiLCJuZXh0IiwiYmluZGluZ3MiLCJ0ZW1wbGF0ZVVybCIsIiRodHRwIiwiZ290b1dlbGNvbWUiLCJnb3RvUmVnaXN0ZXIiLCJwbGVkZ2UiLCJpZCIsInBvc3QiLCJ0aGVuIiwiciIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIiwiZ290b1BsZWRnZSIsInRhYmxlU3RhdGVSZWYiLCJwYWdlU2l6ZURlZmF1bHQiLCJzZWFyY2hNb2RlbCIsInBhZ2UiLCJwYWdlU2l6ZSIsInBhZ2luZyIsImN1cnJlbnRQYWdlIiwiZ2V0VGVybSIsIm5hbWVzIiwic3BsaXQiLCJsZW5ndGgiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsInBhcmFtcyIsInZpc2l0b3JzIiwiZGF0YSIsInJlc3VsdHMiLCJnb3RvU2VhcmNoIiwiY2xlYXJUZXJtIiwidG9nZ2xlTmFtZSIsInYiLCJzZXQiLCJzZWFyY2giLCJ0YWJsZVN0YXRlIiwicGFnZWQiLCJzZWFyY2hUZXJtIiwiZ290b1NlYXJjaFJlc3VsdHMiLCJzZXRUZXJtIiwiZmFjdG9yeSIsInRlcm0iLCJ0IiwiemlwY29kZSJdLCJtYXBwaW5ncyI6IkNBQ0EsV0FDSSxHQUFJQSxHQUFTQyxRQUFRRCxPQUFPLE9BQVEsb0JBQXFCLGdCQUV6REEsR0FBT0UsVUFBVSxTQUVUQyxTQUFVLHFDQUNWQyxlQUNNQyxLQUFNLElBQUtDLEtBQU0sVUFBV0osVUFBVyxVQUFXSyxjQUFjLElBQ2hFRixLQUFNLFlBQWFDLEtBQU0sV0FBWUosVUFBVyxhQUNoREcsS0FBTSxVQUFXQyxLQUFNLFNBQVVKLFVBQVcsV0FDNUNHLEtBQU0sVUFBV0MsS0FBTSxTQUFVSixVQUFXLFdBQzVDRyxLQUFNLFVBQVdDLEtBQU0sU0FBVUosVUFBVyxXQUM1Q0csS0FBTSxXQUFZQyxLQUFNLFVBQVdKLFVBQVcsY0FHNURGLEVBQU9RLE1BQU0sdUJBQXdCO0NDZnpDLFdBSUksUUFBU0MsR0FBV0MsRUFBU0MsR0FDekIsR0FBSUMsR0FBUUMsSUFFWkQsR0FBTUUsZUFBaUIsV0FDZkYsRUFBTUcsZ0JBQWtCLEdBQ3hCTCxFQUFRTSxRQUNSSixFQUFNSyxRQUFRQyxVQUFVLGNBRXhCTixFQUFNRyxpQkFDTkosRUFBU0MsRUFBTUUsZUFBZ0IsT0FJdkNGLEVBQU1PLFFBQVUsV0FDWkMsUUFBUUMsSUFBSSxjQUFlWCxFQUFRWSxPQUNuQ0MsRUFBRUMsV0FBV0MsSUFBSUMsSUFBTSxnQ0FDdkIsSUFBSUQsR0FBTUYsRUFBRUMsV0FBV0csbUJBQ3ZCSixHQUFFQyxXQUFXQyxJQUFJRyxRQUFRQyxLQUFLLFdBQzFCVCxRQUFRQyxJQUFJLDBCQUNaSSxFQUFJSyxPQUFPQyxRQUFRLEVBQUdyQixFQUFRWSxTQUdsQ1YsRUFBTUcsZUFBaUIsRUFDdkJILEVBQU1FLGtCQUdWRCxLQUFLbUIsa0JBQW9CLFNBQVVDLEdBRS9CckIs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QixZQUFhLDZCQUNiMUIsWUFBYSxpQkFBa0JBO0NDekIzQyxXQUlJLFFBQVNvRSxLQWNMLFFBQVM3RCxLQUNMTixLQUdKLFFBQVN5RCxLQUNMVyxFQUFPLEdBR1gsUUFBU3hELEtBQ0wsTUFBT1osR0FHWCxRQUFTOEMsS0FDTCxNQUFPc0IsR0FHWCxRQUFTUixHQUFJRCxHQUNUM0QsRUFBVTJELEVBR2QsUUFBU08sR0FBUUcsR0FDYkQsRUFBT0MsRUFHWCxRQUFTUixHQUFPTyxHQUVaLE1BREExRCxTQUFRQyxJQUFJLGNBQWdCeUQsS0FFdEJsQixVQUFXLE9BQVFDLFNBQVUsV0FBWW1CLFFBQVMsVUFDbERwQixVQUFXLE9BQVFDLFNBQVUsTUFBT21CLFFBQVMsVUFDN0NwQixVQUFXLFFBQVNDLFNBQVUsUUFBU21CLFFBQVMsVUFDaERwQixVQUFXLE9BQVFDLFNBQVUsVUFBV21CLFFBQVMsVUFDakRwQixVQUFXLE9BQVFDLFNBQVUsVUFBV21CLFFBQVMsVUE1QzNELEdBQUl0RSxNQUNBb0UsRUFBTyxFQUVYLFFBQ0k5RCxNQUFPQSxFQUNQbUQsVUFBV0EsRUFDWDdDLElBQUtBLEVBQ0xrQyxRQUFTQSxFQUNUYyxJQUFLQSxFQUNMTSxRQUFTQSxFQUNUTCxPQUFRQSxHQWRoQixHQUFJdkUsR0FBU0MsUUFBUUQsT0FBTyxNQXNENUJBLEdBQU82RSxRQUFRLGtCQUFtQixRQUFTQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9hcHAubW9kdWxlLmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsnbmdDb21wb25lbnRSb3V0ZXInLCAndWkuYm9vdHN0cmFwJ10pO1xyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ2tpb3NrJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPG5nLW91dGxldD5Mb2FkaW5nIC4uPC9uZy1vdXRsZXQgPicsXHJcbiAgICAgICAgICAgICRyb3V0ZUNvbmZpZzogW1xyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnLycsIG5hbWU6ICdXZWxjb21lJywgY29tcG9uZW50OiAnd2VsY29tZScsIHVzZUFzRGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3JlZ2lzdGVyJywgbmFtZTogJ1JlZ2lzdGVyJywgY29tcG9uZW50OiAncmVnaXN0ZXInIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhdGg6ICcvcGxlZGdlJywgbmFtZTogJ1BsZWRnZScsIGNvbXBvbmVudDogJ3BsZWRnZScgfSxcclxuICAgICAgICAgICAgICAgIHsgcGF0aDogJy9maW5pc2gnLCBuYW1lOiAnRmluaXNoJywgY29tcG9uZW50OiAnZmluaXNoJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBwYXRoOiAnL3NlYXJjaCcsIG5hbWU6ICdTZWFyY2gnLCBjb21wb25lbnQ6ICdzZWFyY2gnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHBhdGg6ICcvcmVzdWx0cycsIG5hbWU6ICdSZXN1bHRzJywgY29tcG9uZW50OiAncmVzdWx0cycgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcbiAgICBtb2R1bGUudmFsdWUoJyRyb3V0ZXJSb290Q29tcG9uZW50JywgJ2tpb3NrJyk7XHJcbn1cclxuKSgpOyIsIi8vZmluaXNoLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuICAgIC8vVE9ETzogU0VUL0dFVCBraW9zayBudW1iZXIgZnJvbSBsb2NhbCBzdG9yYWdlXHJcbiAgICAvL1RPRE86IEdFVCBodWIgdXJsIGZyb20gc2V0dGluZ3NcclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvciwgJHRpbWVvdXQpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG5cclxuICAgICAgICAkY3RybC5jb3VudERvd25XYXRjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCRjdHJsLmNvdW50RG93bl90aWNrIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHZpc2l0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICRjdHJsLiRyb3V0ZXIubmF2aWdhdGUoWydXZWxjb21lJ10pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuY291bnREb3duX3RpY2stLTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KCRjdHJsLmNvdW50RG93bldhdGNoLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaW5pc2ggaW5pdCcsIHZpc2l0b3IuZ2V0KCkpO1xyXG4gICAgICAgICAgICAkLmNvbm5lY3Rpb24uaHViLnVybCA9ICdodHRwOi8vbG9jYWxob3N0OjQ5OTYwL3NpZ25hbHInO1xyXG4gICAgICAgICAgICB2YXIgaHViID0gJC5jb25uZWN0aW9uLm5hbWVOb3RpZmljYXRpb25IdWI7XHJcbiAgICAgICAgICAgICQuY29ubmVjdGlvbi5odWIuc3RhcnQoKS5kb25lKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2h1YiBjb25uZWN0aW9uIHN0YXJ0ZWQnKTtcclxuICAgICAgICAgICAgICAgIGh1Yi5zZXJ2ZXIuYWRkTmFtZSgxLCB2aXNpdG9yLmdldCgpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkY3RybC5jb3VudERvd25fdGljayA9IDM7XHJcbiAgICAgICAgICAgICRjdHJsLmNvdW50RG93bldhdGNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgLy8gTG9hZCB1cCB0aGUgaGVyb2VzIGZvciB0aGlzIHZpZXdcclxuICAgICAgICAgICAgJGN0cmwuJHJvdXRlciA9IHRoaXMuJHJvdXRlcjsgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgnZmluaXNoJyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAkcm91dGVyOiAnPCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvZmluaXNoLmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyd2aXNpdG9yU2VydmljZScsICckdGltZW91dCcsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcbn1cclxuKSgpOyIsIi8vcGxlZGdlLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuICAgIC8vVE9ETzogR0VUIGh1YiB1cmwgZnJvbSBzZXR0aW5nc1xyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcigkaHR0cCwgdmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdHJsLnZpc2l0b3IgPSB2aXNpdG9yLmdldCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncGxlZGdlIGluaXQnLCAkY3RybCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRyb3V0ZXJPbkFjdGl2YXRlID0gZnVuY3Rpb24gKG5leHQpIHsgfTtcclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1dlbGNvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZpc2l0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnV2VsY29tZSddKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9SZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnUmVnaXN0ZXInXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5wbGVkZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdmlzaXRvci5nZXQoKS5pZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmUgbmV3IHZpc2l0b3InLCB2aXNpdG9yLmdldCgpKTtcclxuICAgICAgICAgICAgICAgICRodHRwLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6NDk5NjAvYXBpL3Zpc2l0b3InLCB2aXNpdG9yLmdldCgpKS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmVkIG5ldyB2aXNpdG9yJywgdmlzaXRvci5nZXQoKSk7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc29tZXRoaW5nIHdlbnQgd3JvbmcnLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXR1cm5pbmcgdmlzaXRvcicsIHZpc2l0b3IuZ2V0KCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydGaW5pc2gnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3BsZWRnZScsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICAgICAgJHJvdXRlcjogJzwnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3BsZWRnZS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJGh0dHAnLCAndmlzaXRvclNlcnZpY2UnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3JlZ2lzdGVyLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKHZpc2l0b3IpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzOyBcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkY3RybC52aXNpdG9yID0gdmlzaXRvci5nZXQoKTsgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2aXNpdG9yIHNlcnZpY2UnKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvV2VsY29tZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydXZWxjb21lJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1BsZWRnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnUGxlZGdlJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdyZWdpc3RlcicsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczogeyAkcm91dGVyOiAnPCcgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcmVnaXN0ZXIuY29tcG9uZW50Lmh0bWwnLCBcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyd2aXNpdG9yU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxufVxyXG4pKCk7IiwiLy9yZXN1bHRzLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuICAgIC8vVE9ETzogR0VUIGh1YiB1cmwgZnJvbSBzZXR0aW5nc1xyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcigkaHR0cCwgdmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZhciBwYWdlU2l6ZURlZmF1bHQgPSAxMDtcclxuICAgICAgICB2YXIgdGFibGVTdGF0ZVJlZjtcclxuXHJcbiAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwgPSB7XHJcbiAgICAgICAgICAgIHBhZ2U6IDEsXHJcbiAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZURlZmF1bHRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkY3RybC5wYWdpbmcgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VhcmNoIGluaXQnLCB2aXNpdG9yLmdldFRlcm0oKSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IHZpc2l0b3IuZ2V0VGVybSgpLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIGlmIChuYW1lcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5zZWFyY2hNb2RlbC5maXJzdG5hbWUgPSBuYW1lc1swXTsgXHJcbiAgICAgICAgICAgICAgICAkY3RybC5zZWFyY2hNb2RlbC5sYXN0bmFtZSA9IG5hbWVzWzFdOyBcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLnNlYXJjaE1vZGVsLmxhc3RuYW1lID0gbmFtZXNbMF07IFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkaHR0cC5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NDk5NjAvYXBpL3Zpc2l0b3InLCB7IHBhcmFtczogJGN0cmwuc2VhcmNoTW9kZWwgfSkudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwudmlzaXRvcnMgPSByLmRhdGEucmVzdWx0cztcclxuICAgICAgICAgICAgICAgICRjdHJsLnNlYXJjaE1vZGVsID0gci5kYXRhO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICRjdHJsLnNlYXJjaE1vZGVsLnJlc3VsdHM7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndmlzaXRvcnMnLCAkY3RybC52aXNpdG9ycyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9XZWxjb21lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydXZWxjb21lJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZ290b1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnU2VhcmNoJ10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwucGxlZGdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2aXNpdG9yLmNsZWFyVGVybSgpO1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydQbGVkZ2UnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC50b2dnbGVOYW1lID0gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgJGN0cmwudmlzaXRvciA9IHY7XHJcbiAgICAgICAgICAgIHZpc2l0b3Iuc2V0KHYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuc2VhcmNoID0gZnVuY3Rpb24gKHRhYmxlU3RhdGUpIHtcclxuICAgICAgICAgICAgdGFibGVTdGF0ZVJlZiA9IHRhYmxlU3RhdGU7XHJcbiAgICAgICAgICAgICRodHRwLmdldCgnaHR0cDovL2xvY2FsaG9zdDo0OTk2MC9hcGkvdmlzaXRvcicsIHsgcGFyYW1zOiAkY3RybC5zZWFyY2hNb2RlbCB9KS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAkY3RybC52aXNpdG9ycyA9IHIuZGF0YS5yZXN1bHRzO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwgPSByLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgJGN0cmwuc2VhcmNoTW9kZWwucmVzdWx0cztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5wYWdlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGN0cmwuc2VhcmNoKHRhYmxlU3RhdGVSZWYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgncmVzdWx0cycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczogeyAkcm91dGVyOiAnPCcgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcmVzdWx0cy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJGh0dHAnLCAndmlzaXRvclNlcnZpY2UnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3NlYXJjaC5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcih2aXNpdG9yKSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlYXJjaCBpbml0Jyk7XHJcbiAgICAgICAgICAgICRjdHJsLnNlYXJjaFRlcm0gPSB2aXNpdG9yLmdldFRlcm0oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmdvdG9XZWxjb21lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2aXNpdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5uYXZpZ2F0ZShbJ1dlbGNvbWUnXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvU2VhcmNoUmVzdWx0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2aXNpdG9yLnNldFRlcm0oJGN0cmwuc2VhcmNoVGVybSk7IFxyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydSZXN1bHRzJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdzZWFyY2gnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHsgJHJvdXRlcjogJzwnIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3NlYXJjaC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsndmlzaXRvclNlcnZpY2UnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3dlbGNvbWUuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIodmlzaXRvcikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7IFxyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd3ZWxjb21lIGluaXQnLCB2aXNpdG9yLmdldCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJHJvdXRlck9uQWN0aXZhdGUgPSBmdW5jdGlvbiAobmV4dCkgeyB9O1xyXG5cclxuICAgICAgICAkY3RybC5nb3RvUmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy4kcm91dGVyLm5hdmlnYXRlKFsnUmVnaXN0ZXInXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5nb3RvU2VhcmNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIubmF2aWdhdGUoWydTZWFyY2gnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3dlbGNvbWUnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHsgJHJvdXRlcjogJzwnIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3dlbGNvbWUuY29tcG9uZW50Lmh0bWwnLCBcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyd2aXNpdG9yU2VydmljZScsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcblxyXG59XHJcbikoKTsiLCIvL3Zpc2l0b3Iuc2VydmljZS5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuICAgIC8vVE9ETzogSW1wbGVtZW50IHNlYXJjaFxyXG5cclxuICAgIGZ1bmN0aW9uIGZhY3RvcnkoKSB7XHJcbiAgICAgICAgdmFyIHZpc2l0b3IgPSB7fTtcclxuICAgICAgICB2YXIgdGVybSA9ICcnO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjbGVhcjogY2xlYXIsXHJcbiAgICAgICAgICAgIGNsZWFyVGVybTogY2xlYXJUZXJtLCBcclxuICAgICAgICAgICAgZ2V0OiBnZXQsXHJcbiAgICAgICAgICAgIGdldFRlcm06IGdldFRlcm0sXHJcbiAgICAgICAgICAgIHNldDogc2V0LFxyXG4gICAgICAgICAgICBzZXRUZXJtOiBzZXRUZXJtLFxyXG4gICAgICAgICAgICBzZWFyY2g6IHNlYXJjaFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgICAgICAgICB2aXNpdG9yID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbGVhclRlcm0oKSB7XHJcbiAgICAgICAgICAgIHRlcm0gPSAnJzsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGVybSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRlcm07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXQodikge1xyXG4gICAgICAgICAgICB2aXNpdG9yID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFRlcm0odCkge1xyXG4gICAgICAgICAgICB0ZXJtID0gdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlYXJjaCh0ZXJtKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWFyY2ggZm9yICcgKyB0ZXJtKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHsgZmlyc3RuYW1lOiAnTWFyaycsIGxhc3RuYW1lOiAnTGF3cmVuY2UnLCB6aXBjb2RlOiAnMTExMTEnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpcnN0bmFtZTogJ0pvaG4nLCBsYXN0bmFtZTogJ0RvZScsIHppcGNvZGU6ICcxMTExMScgfSxcclxuICAgICAgICAgICAgICAgIHsgZmlyc3RuYW1lOiAnQnJlbnQnLCBsYXN0bmFtZTogJ0pvbmVzJywgemlwY29kZTogJzExMTExJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaXJzdG5hbWU6ICdIdWdoJywgbGFzdG5hbWU6ICdKYWNrbWFuJywgemlwY29kZTogJzExMTExJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaXJzdG5hbWU6ICdKYWNrJywgbGFzdG5hbWU6ICdNYW5kZWxhJywgemlwY29kZTogJzExMTExJyB9LFxyXG4gICAgICAgICAgICBdOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5mYWN0b3J5KCd2aXNpdG9yU2VydmljZScsIFsnJGh0dHAnLCBmYWN0b3J5XSk7XHJcblxyXG59XHJcbikoKTsiXX0=
