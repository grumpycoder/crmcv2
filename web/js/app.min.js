!function(){var t=angular.module("app",["app.directives","ui.bootstrap","ui.slider","smart-table","ngTagsInput","ngFileUpload","ngFileReader","ngAnimate","treasure-overlay-spinner","toastr"]);t.config(["toastrConfig",function(t){angular.extend(t,{positionClass:"toast-bottom-right",newestOnTop:!0,allowHtml:!1,closeButton:!1,closeHtml:"<button>&times;</button>",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},messageClass:"toast-message",onHidden:null,onShown:null,onTap:null,progressBar:!1,tapToDismiss:!0,templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}])}();
!function(){function n(n){var e=this;e.$onInit=function(){console.log("censor edit init"),e.resolve&&(e.id=e.resolve.id),e.id&&n.get("api/censor/"+e.id).then(function(n){e.censor=n.data}).catch(function(n){console.log("err",n.message)})},e.cancel=function(){e.dismiss()},e.save=function(){return console.log("save censor",e.censor),n.post("api/censor",e.censor).then(function(n){angular.extend(e.censor,n.data),e.modalInstance.close(e.censor)}).catch(function(n){console.error("something went wrong",n.message)})}}var e=angular.module("app");e.component("censorEdit",{bindings:{item:"<",resolve:"<",close:"&",dismiss:"&",modalInstance:"<"},templateUrl:"app/censors/censor-edit.component.html",controller:["$http",n]})}();
!function(){function e(e,n,o){var s,t=this,c=10;t.searchModel={page:1,pageSize:c},t.$onInit=function(){console.log("censor list init")},t.create=function(){n.open({component:"censorEdit",bindings:{modalInstance:"<"},resolve:{},size:"md"}).result.then(function(e){t.censors.unshift(e),o.success("Saved Censor")},function(e){})},t.edit=function(e){n.open({component:"censorEdit",bindings:{modalInstance:"<"},resolve:{id:e.id},size:"md"}).result.then(function(n){angular.extend(e,n),o.success("Updated Censor")},function(e){})},t.delete=function(n){e.delete("api/censor/"+n.id).then(function(e){var s=t.censors.indexOf(n);t.censors.splice(s,1),o.warning("Deleted censor")})},t.search=function(n){t.loading=!0,s=n,"undefined"!=typeof n.sort.predicate&&(t.searchModel.orderBy=n.sort.predicate,t.searchModel.orderDirection=n.sort.reverse?"desc":"asc"),e.get("api/censor/search",{params:t.searchModel}).then(function(e){console.log("r",e.data),t.censors=e.data.results,t.searchModel=e.data,console.log(t.censors),delete t.searchModel.results}).finally(function(){t.loading=!1})},t.paged=function(){t.search(s)}}var n=angular.module("app");n.component("censorList",{templateUrl:"app/censors/censor-list.component.html",controller:["$http","$uibModal","toastr",e]})}();
!function(){function n(n,o){var t=this,i=$.connection.nameNotificationHub;t.$onInit=function(){console.log("configuration setting init"),$.connection.hub.start().done(function(){console.log("hub connection started")}),n.get("api/configuration").then(function(n){t.configuration=n.data,o.success("Loaded configuration")})},t.cancel=function(){t.dismiss()},t.save=function(){return n.post("api/configuration",t.configuration).then(function(n){angular.extend(t.configuration,n.data),o.success("Configuration Saved")}).catch(function(n){console.error("something went wrong",n.message),o.error("Error Saving Configuration")}).finally(function(){i.server.configurationChange(t.configuration).then(function(n){console.log("configuration sent to hub")})})}}var o=angular.module("app");o.component("configurationSetting",{templateUrl:"app/configuration/configuration-setting.component.html",controller:["$http","toastr",n]})}();
!function(){function t(t,n){var o=this,a=$.connection.nameNotificationHub;o.$onInit=function(){console.log("dashboard init"),$.connection.hub.url="http://localhost:49960/signalr",$.connection.hub.start().done(function(){console.log("hub connection started")}),o.refresh()},a.client.addName=function(t,n){o.updateVisitors(n)},o.updateVisitors=function(t){o.visitors.pop();var a={firstname:t.Firstname,lastname:t.Lastname,zipcode:t.Zipcode,dateCreate:t.DateCreated,fuzzyMatchValue:t.FuzzyMatchValue};o.visitors.unshift(a),n.$apply()},o.refresh=function(){o.loading=!0,t.get("api/visitor/summary").then(function(t){o.summary=t.data,o.visitors=t.data.visitors}).catch(function(t){console.error("something went wrong",t)}).finally(function(t){o.loading=!1})}}var n=angular.module("app");n.component("dashboard",{templateUrl:"app/dashboard/dashboard.component.html",controller:["$http","$scope",t]})}();
!function(){angular.module("app.directives",[])}();
!function(){var e=angular.module("app.directives");e.directive("stSubmitSearch",["stConfig","$timeout","$parse",function(e,t,r){return{require:"^stTable",link:function(e,t,r,n){return t.bind("click",function(){var e=n;e.pipe()})}}}]),e.directive("clearKey",function(){return{restrict:"EA",require:"ngModel",link:function(e,t,r,n){t.on("keydown",function(t){27===t.which&&(n.$setViewValue(null),n.$render(),e.$apply())})}}}),e.directive("stResetSearch",function(){return{restrict:"EA",require:["^stTable","^ngModel"],link:function(e,t,r,n){return t.bind("click",function(){var t=n[1],r=n[0];return e.$apply(function(){angular.forEach(t.$viewValue,function(e,r){"page"===r.toLowerCase()&&(t.$viewValue[r]=1),Array.isArray(e)||_.includes(r.toLowerCase(),"page")||(t.$viewValue[r]=null)});var e=r.tableState();return e.search.predicateObject={},e.pagination.start=0,r.pipe()})})}}}),e.directive("stClearKey",function(){return{restrict:"EA",require:["^stTable","^ngModel"],link:function(e,t,r,n){t.on("keydown",function(r){var i=n[1],a=n[0];return 13===r.which?a.pipe():27===r.which?void 0!==t.context.attributes["st-search"]?e.$apply(function(){var e=t.context.attributes["st-search"].value,r=a.tableState();return r.search.predicateObject[e]="",a.pipe()}):e.$apply(function(){i.$setViewValue(null),i.$render()}):void 0})}}})}();
!function(){function o(o){var n=new FormData;return n.append("file",o),n}function n(n,t){var e=this;e.$onInit=function(){console.log("donor-upload init")},e.upload=function(){return e.isBusy=!0,e.result={success:!1},n.post("api/file/donor",o(e.file),{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(o){e.result.success=!0,e.result.message=o.data.messages[0],console.log("result",e.result)}).catch(function(o){e.result.message=o.data.message}).finally(function(){e.file=void 0,e.isBusy=!1})}}var t=angular.module("app");t.component("donorUpload",{templateUrl:"app/donorUpload/donor-upload.component.html",controller:["$http","toastr",n]})}();
!function(){angular.module("app").filter("percentage",["$filter",function(n){return function(e,r){return n("number")(100*e,r)+"%"}}])}();
!function(){function e(e){var s=this;s.$onInit=function(){console.log("user edit init"),s.resolve&&(s.user=s.resolve.user),e.get("api/user/roles").then(function(e){s.roles=e.data})},s.cancel=function(){s.dismiss()},s.save=function(){s.user.email||(s.user.email=s.user.userName+"@splcenter.org");var n=[];return _.forEach(s.user.roles,function(e){n.push(e.name)}),0===n.length&&n.push("user"),s.user.roles=n,e.post("api/user/update",s.user).then(function(e){angular.extend(s.user,e.data),s.modalInstance.close(s.user)}).catch(function(e){console.error("something went wrong",e.message)})}}var s=angular.module("app");s.component("userEdit",{bindings:{item:"<",resolve:"<",close:"&",dismiss:"&",modalInstance:"<"},templateUrl:"app/users/user-edit.component.html",controller:["$http",e]})}();
!function(){function e(e,n,s){var t=this;t.$onInit=function(){t.title="Users",e.get("api/user").then(function(e){t.users=e.data})},t.create=function(){n.open({component:"userEdit",bindings:{modalInstance:"<"},size:"md"}).result.then(function(e){var n=e,o=[];_.forEach(e.roles,function(e){console.log("role",e),o.push(e)}),n.roles=[],console.log("result",n),n.roles=[]=o,console.log("roles",o),console.log("result",n),t.users.unshift(n),s.success("Created User")},function(e){})},t.edit=function(e){n.open({component:"userEdit",bindings:{modalInstance:"<"},resolve:{user:angular.copy(e)},size:"md"}).result.then(function(n){angular.extend(e,n),s.success("Updated User")},function(e){})},t.delete=function(n){e.delete("api/user/"+n.id).then(function(e){var o=t.users.indexOf(n);t.users.splice(o,1),s.warning("Deleted User")})}}var n=angular.module("app");n.component("userList",{templateUrl:"app/users/user-list.component.html",controller:["$http","$uibModal","toastr",e]})}();
!function(){function i(i){var t=this;t.$onInit=function(){console.log("visitor edit init"),t.title="New Visitor",t.resolve&&(t.id=t.resolve.id),t.id&&i.get("api/visitor/"+t.id).then(function(i){t.visitor=i.data,t.title=t.visitor.firstname+" "+t.visitor.lastname}).catch(function(i){console.log("err",i.message)})},t.cancel=function(){t.dismiss()},t.save=function(){return console.log("save visitor",t.visitor),i.post("api/visitor",t.visitor).then(function(i){angular.extend(t.visitor,i.data),t.modalInstance.close(t.visitor)}).catch(function(i){console.error("something went wrong",i.message)})}}var t=angular.module("app");t.component("visitorEdit",{bindings:{item:"<",resolve:"<",close:"&",dismiss:"&",modalInstance:"<"},templateUrl:"app/visitors/visitor-edit.component.html",controller:["$http",i]})}();
!function(){function e(e,t,i){var n,o=this,s=10;o.searchModel={page:1,pageSize:s},o.$onInit=function(){console.log("init visitor list"),o.title="Visitors"},o.create=function(){t.open({component:"visitorEdit",bindings:{modalInstance:"<"},resolve:{},size:"md"}).result.then(function(e){o.visitors.unshift(e),i.success("Created Visitor")},function(e){})},o.edit=function(e){t.open({component:"visitorEdit",bindings:{modalInstance:"<"},resolve:{id:e.id},size:"md"}).result.then(function(t){angular.extend(e,t),i.success("Updated Visitor")},function(e){})},o.delete=function(t){e.delete("api/visitor/"+t.id).then(function(e){var n=o.visitors.indexOf(t);o.visitors.splice(n,1),i.warning("Deleted Visitor")})},o.search=function(t){o.loading=!0,n=t,o.searchModel.fuzzyMatchRange=o.fuzzyMatchRange,o.searchModel.daysOld=o.days,"undefined"!=typeof t.sort.predicate&&(o.searchModel.orderBy=t.sort.predicate,o.searchModel.orderDirection=t.sort.reverse?"desc":"asc"),e.get("api/visitor",{params:o.searchModel}).then(function(e){o.visitors=e.data.results,o.searchModel=e.data,delete o.searchModel.results}).finally(function(){o.loading=!1})},o.paged=function(){o.search(n)}}var t=angular.module("app");t.component("visitorList",{templateUrl:"app/visitors/visitor-list.component.html",controller:["$http","$uibModal","toastr",e]})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJjZW5zb3JzL2NlbnNvci1lZGl0LmNvbXBvbmVudC5qcyIsImNlbnNvcnMvY2Vuc29yLWxpc3QuY29tcG9uZW50LmpzIiwiY29uZmlndXJhdGlvbi9jb25maWd1cmF0aW9uLXNldHRpbmcuY29tcG9uZW50LmpzIiwiZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuanMiLCJkaXJlY3RpdmVzL2RpcmVjdGl2ZXMubW9kdWxlcy5qcyIsImRpcmVjdGl2ZXMvc3RUYWJsZS5kaXJlY3RpdmUuanMiLCJkb25vclVwbG9hZC9kb25vci11cGxvYWQuY29tcG9uZW50LmpzIiwiZmlsdGVycy9maWx0ZXJzLmpzIiwidXNlcnMvdXNlci1lZGl0LmNvbXBvbmVudC5qcyIsInVzZXJzL3VzZXItbGlzdC5jb21wb25lbnQuanMiLCJ2aXNpdG9ycy92aXNpdG9yLWVkaXQuY29tcG9uZW50LmpzIiwidmlzaXRvcnMvdmlzaXRvci1saXN0LmNvbXBvbmVudC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJhbmd1bGFyIiwiY29uZmlnIiwidG9hc3RyQ29uZmlnIiwiZXh0ZW5kIiwicG9zaXRpb25DbGFzcyIsIm5ld2VzdE9uVG9wIiwiYWxsb3dIdG1sIiwiY2xvc2VCdXR0b24iLCJjbG9zZUh0bWwiLCJleHRlbmRlZFRpbWVPdXQiLCJpY29uQ2xhc3NlcyIsImVycm9yIiwiaW5mbyIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwibWVzc2FnZUNsYXNzIiwib25IaWRkZW4iLCJvblNob3duIiwib25UYXAiLCJwcm9ncmVzc0JhciIsInRhcFRvRGlzbWlzcyIsInRlbXBsYXRlcyIsInRvYXN0IiwicHJvZ3Jlc3NiYXIiLCJ0aW1lT3V0IiwidGl0bGVDbGFzcyIsInRvYXN0Q2xhc3MiLCJjb250cm9sbGVyIiwiJGh0dHAiLCIkY3RybCIsInRoaXMiLCIkb25Jbml0IiwiY29uc29sZSIsImxvZyIsInJlc29sdmUiLCJpZCIsImdldCIsInRoZW4iLCJyIiwiY2Vuc29yIiwiZGF0YSIsImNhdGNoIiwiZXJyIiwibWVzc2FnZSIsImNhbmNlbCIsImRpc21pc3MiLCJzYXZlIiwicG9zdCIsIm1vZGFsSW5zdGFuY2UiLCJjbG9zZSIsImNvbXBvbmVudCIsImJpbmRpbmdzIiwiaXRlbSIsInRlbXBsYXRlVXJsIiwiJG1vZGFsIiwidG9hc3RyIiwidGFibGVTdGF0ZVJlZiIsInBhZ2VTaXplRGVmYXVsdCIsInNlYXJjaE1vZGVsIiwicGFnZSIsInBhZ2VTaXplIiwiY3JlYXRlIiwib3BlbiIsInNpemUiLCJyZXN1bHQiLCJjZW5zb3JzIiwidW5zaGlmdCIsInJlYXNvbiIsImVkaXQiLCJjIiwiZGVsZXRlIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsInNlYXJjaCIsInRhYmxlU3RhdGUiLCJsb2FkaW5nIiwic29ydCIsIm9yZGVyQnkiLCJwcmVkaWNhdGUiLCJvcmRlckRpcmVjdGlvbiIsInJldmVyc2UiLCJwYXJhbXMiLCJyZXN1bHRzIiwiZmluYWxseSIsInBhZ2VkIiwiaHViIiwiJCIsImNvbm5lY3Rpb24iLCJuYW1lTm90aWZpY2F0aW9uSHViIiwic3RhcnQiLCJkb25lIiwiY29uZmlndXJhdGlvbiIsInNlcnZlciIsImNvbmZpZ3VyYXRpb25DaGFuZ2UiLCIkc2NvcGUiLCJ1cmwiLCJyZWZyZXNoIiwiY2xpZW50IiwiYWRkTmFtZSIsImtpb3NrIiwicGVyc29uIiwidXBkYXRlVmlzaXRvcnMiLCJ2aXNpdG9ycyIsInBvcCIsInZpc2l0b3IiLCJmaXJzdG5hbWUiLCJGaXJzdG5hbWUiLCJsYXN0bmFtZSIsIkxhc3RuYW1lIiwiemlwY29kZSIsIlppcGNvZGUiLCJkYXRlQ3JlYXRlIiwiRGF0ZUNyZWF0ZWQiLCJmdXp6eU1hdGNoVmFsdWUiLCJGdXp6eU1hdGNoVmFsdWUiLCIkYXBwbHkiLCJzdW1tYXJ5IiwiZSIsImRpcmVjdGl2ZSIsInN0Q29uZmlnIiwiJHRpbWVvdXQiLCIkcGFyc2UiLCJyZXF1aXJlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHIiLCJjdHJsIiwiYmluZCIsInRhYmxlQ3RybCIsInBpcGUiLCJyZXN0cmljdCIsImVsIiwiYXR0cnMiLCJvbiIsImV2ZW50Iiwid2hpY2giLCIkc2V0Vmlld1ZhbHVlIiwiJHJlbmRlciIsImN0cmxzIiwibW9kZWwiLCJmb3JFYWNoIiwiJHZpZXdWYWx1ZSIsInZhbHVlIiwia2V5IiwidG9Mb3dlckNhc2UiLCJBcnJheSIsImlzQXJyYXkiLCJfIiwiaW5jbHVkZXMiLCJwcmVkaWNhdGVPYmplY3QiLCJwYWdpbmF0aW9uIiwibmdNb2RlbCIsInVuZGVmaW5lZCIsImNvbnRleHQiLCJhdHRyaWJ1dGVzIiwiZmllbGROYW1lIiwiZm9ybURhdGFPYmplY3QiLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkIiwiaXNCdXN5IiwiZmlsZSIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJtZXNzYWdlcyIsImZpbHRlciIsIiRmaWx0ZXIiLCJpbnB1dCIsImRlY2ltYWxzIiwidXNlciIsInJvbGVzIiwiZW1haWwiLCJ1c2VyTmFtZSIsInJvbGUiLCJwdXNoIiwibmFtZSIsImxlbmd0aCIsInRpdGxlIiwidXNlcnMiLCJjb3B5IiwidiIsImZ1enp5TWF0Y2hSYW5nZSIsImRheXNPbGQiLCJkYXlzIl0sIm1hcHBpbmdzIjoiQ0FDQSxXQUNJLEdBQUlBLEdBQVNDLFFBQVFELE9BQU8sT0FDeEIsaUJBQ0EsZUFDQSxZQUNBLGNBQ0EsY0FDQSxlQUNBLGVBQ0EsWUFDQSwyQkFDQSxVQUdKQSxHQUFPRSxRQUFRLGVBQWdCLFNBQVVDLEdBQ3JDRixRQUFRRyxPQUFPRCxHQUNYRSxjQUFlLHFCQUNmQyxhQUFhLEVBQ2JDLFdBQVcsRUFDWEMsYUFBYSxFQUNiQyxVQUFXLDJCQUNYQyxnQkFBaUIsSUFDakJDLGFBQ0lDLE1BQU8sY0FDUEMsS0FBTSxhQUNOQyxRQUFTLGdCQUNUQyxRQUFTLGlCQUViQyxhQUFjLGdCQUNkQyxTQUFVLEtBQ1ZDLFFBQVMsS0FDVEMs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TTZCLFlBQWNwQixFQUFFRSxXQUNmWCxHQUFNNkIsWUFBWXlCLFVBQzFCQyxRQUFRLFdBQ1B2RCxFQUFNK0MsU0FBVSxLQUl4Qi9DLEVBQU13RCxNQUFRLFdBQ1Z4RCxFQUFNNkMsT0FBT2xCLElBL0VyQixHQUFJekQsR0FBU0MsUUFBUUQsT0FBTyxNQW9GNUJBLEdBQU9tRCxVQUFVLGVBRVRHLFlBQWEsMkNBQ2IxQixZQUFhLFFBQVMsWUFBYSxTQUFVQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9hcHAubW9kdWxlLmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcclxuICAgICAgICAnYXBwLmRpcmVjdGl2ZXMnLFxyXG4gICAgICAgICd1aS5ib290c3RyYXAnLFxyXG4gICAgICAgICd1aS5zbGlkZXInLFxyXG4gICAgICAgICdzbWFydC10YWJsZScsXHJcbiAgICAgICAgJ25nVGFnc0lucHV0JyxcclxuICAgICAgICAnbmdGaWxlVXBsb2FkJyxcclxuICAgICAgICAnbmdGaWxlUmVhZGVyJyxcclxuICAgICAgICAnbmdBbmltYXRlJywgXHJcbiAgICAgICAgJ3RyZWFzdXJlLW92ZXJsYXktc3Bpbm5lcicsXHJcbiAgICAgICAgJ3RvYXN0cidcclxuICAgIF0pO1xyXG5cclxuICAgIG1vZHVsZS5jb25maWcoWyd0b2FzdHJDb25maWcnLCBmdW5jdGlvbiAodG9hc3RyQ29uZmlnKSB7XHJcbiAgICAgICAgYW5ndWxhci5leHRlbmQodG9hc3RyQ29uZmlnLCB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC1ib3R0b20tcmlnaHQnLFxyXG4gICAgICAgICAgICBuZXdlc3RPblRvcDogdHJ1ZSxcclxuICAgICAgICAgICAgYWxsb3dIdG1sOiBmYWxzZSxcclxuICAgICAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLFxyXG4gICAgICAgICAgICBjbG9zZUh0bWw6ICc8YnV0dG9uPiZ0aW1lczs8L2J1dHRvbj4nLFxyXG4gICAgICAgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDAsXHJcbiAgICAgICAgICAgIGljb25DbGFzc2VzOiB7XHJcbiAgICAgICAgICAgICAgICBlcnJvcjogJ3RvYXN0LWVycm9yJyxcclxuICAgICAgICAgICAgICAgIGluZm86ICd0b2FzdC1pbmZvJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICd0b2FzdC1zdWNjZXNzJyxcclxuICAgICAgICAgICAgICAgIHdhcm5pbmc6ICd0b2FzdC13YXJuaW5nJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXNzYWdlQ2xhc3M6ICd0b2FzdC1tZXNzYWdlJyxcclxuICAgICAgICAgICAgb25IaWRkZW46IG51bGwsXHJcbiAgICAgICAgICAgIG9uU2hvd246IG51bGwsXHJcbiAgICAgICAgICAgIG9uVGFwOiBudWxsLFxyXG4gICAgICAgICAgICBwcm9ncmVzc0JhcjogZmFsc2UsXHJcbiAgICAgICAgICAgIHRhcFRvRGlzbWlzczogdHJ1ZSxcclxuICAgICAgICAgICAgdGVtcGxhdGVzOiB7XHJcbiAgICAgICAgICAgICAgICB0b2FzdDogJ2RpcmVjdGl2ZXMvdG9hc3QvdG9hc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc2JhcjogJ2RpcmVjdGl2ZXMvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGltZU91dDogNTAwMCxcclxuICAgICAgICAgICAgdGl0bGVDbGFzczogJ3RvYXN0LXRpdGxlJyxcclxuICAgICAgICAgICAgdG9hc3RDbGFzczogJ3RvYXN0J1xyXG4gICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG4pKCk7IiwiLy9jZW5zb3ItZWRpdC5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcigkaHR0cCkge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjZW5zb3IgZWRpdCBpbml0Jyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJGN0cmwucmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuaWQgPSAkY3RybC5yZXNvbHZlLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkY3RybC5pZCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCdhcGkvY2Vuc29yLycgKyAkY3RybC5pZCkudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICRjdHJsLmNlbnNvciA9IHIuZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdHJsLmRpc21pc3MoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXZlIGNlbnNvcicsICRjdHJsLmNlbnNvcik7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdhcGkvY2Vuc29yJywgJGN0cmwuY2Vuc29yKS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkY3RybC5jZW5zb3IsIHIuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5tb2RhbEluc3RhbmNlLmNsb3NlKCRjdHJsLmNlbnNvcik7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NvbWV0aGluZyB3ZW50IHdyb25nJywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ2NlbnNvckVkaXQnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIGl0ZW06ICc8JyxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6ICc8JyxcclxuICAgICAgICAgICAgICAgIGNsb3NlOiAnJicsXHJcbiAgICAgICAgICAgICAgICBkaXNtaXNzOiAnJicsXHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlOiAnPCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvY2Vuc29ycy9jZW5zb3ItZWRpdC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJGh0dHAnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL2NlbnNvci1saXN0LmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKCRodHRwLCAkbW9kYWwsIHRvYXN0cikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBhZ2VTaXplRGVmYXVsdCA9IDEwO1xyXG4gICAgICAgIHZhciB0YWJsZVN0YXRlUmVmO1xyXG5cclxuICAgICAgICAkY3RybC5zZWFyY2hNb2RlbCA9IHtcclxuICAgICAgICAgICAgcGFnZTogMSxcclxuICAgICAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplRGVmYXVsdFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjZW5zb3IgbGlzdCBpbml0Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2NlbnNvckVkaXQnLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlOiBcIjxcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgIH0pLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLmNlbnNvcnMudW5zaGlmdChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1NhdmVkIENlbnNvcicpOyBcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmVkaXQgPSBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdjZW5zb3JFZGl0JyxcclxuICAgICAgICAgICAgICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZTogXCI8XCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGMuaWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgIH0pLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGMsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnVXBkYXRlZCBDZW5zb3InKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmRlbGV0ZSA9IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICRodHRwLmRlbGV0ZSgnYXBpL2NlbnNvci8nICsgYy5pZCkudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9ICRjdHJsLmNlbnNvcnMuaW5kZXhPZihjKTtcclxuICAgICAgICAgICAgICAgICRjdHJsLmNlbnNvcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZygnRGVsZXRlZCBjZW5zb3InKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5zZWFyY2ggPSBmdW5jdGlvbiAodGFibGVTdGF0ZSkge1xyXG4gICAgICAgICAgICAkY3RybC5sb2FkaW5nID0gdHJ1ZTsgXHJcbiAgICAgICAgICAgIHRhYmxlU3RhdGVSZWYgPSB0YWJsZVN0YXRlO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mICh0YWJsZVN0YXRlLnNvcnQucHJlZGljYXRlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwub3JkZXJCeSA9IHRhYmxlU3RhdGUuc29ydC5wcmVkaWNhdGU7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5zZWFyY2hNb2RlbC5vcmRlckRpcmVjdGlvbiA9IHRhYmxlU3RhdGUuc29ydC5yZXZlcnNlID8gJ2Rlc2MnIDogJ2FzYyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCdhcGkvY2Vuc29yL3NlYXJjaCcsIHsgcGFyYW1zOiAkY3RybC5zZWFyY2hNb2RlbCB9KS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncicsIHIuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5jZW5zb3JzID0gci5kYXRhLnJlc3VsdHM7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5zZWFyY2hNb2RlbCA9IHIuZGF0YTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRjdHJsLmNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICRjdHJsLnNlYXJjaE1vZGVsLnJlc3VsdHM7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5sb2FkaW5nID0gZmFsc2U7IFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnBhZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkY3RybC5zZWFyY2godGFibGVTdGF0ZVJlZik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ2NlbnNvckxpc3QnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvY2Vuc29ycy9jZW5zb3ItbGlzdC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJGh0dHAnLCAnJHVpYk1vZGFsJywgJ3RvYXN0cicsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgfSk7XHJcbn1cclxuKSgpOyIsIi8vY29uZmlndXJhdGlvbi1zZXR0aW5nLmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKCRodHRwLCB0b2FzdHIpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG4gICAgICAgIHZhciBodWIgPSAkLmNvbm5lY3Rpb24ubmFtZU5vdGlmaWNhdGlvbkh1YjtcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvbmZpZ3VyYXRpb24gc2V0dGluZyBpbml0Jyk7XHJcbiAgICAgICAgICAgICQuY29ubmVjdGlvbi5odWIuc3RhcnQoKS5kb25lKGZ1bmN0aW9uKCl7IGNvbnNvbGUubG9nKCdodWIgY29ubmVjdGlvbiBzdGFydGVkJyk7IH0pO1xyXG4gICAgICAgICAgICAkaHR0cC5nZXQoJ2FwaS9jb25maWd1cmF0aW9uJykudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuY29uZmlndXJhdGlvbiA9IHIuZGF0YTtcclxuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdMb2FkZWQgY29uZmlndXJhdGlvbicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGN0cmwuZGlzbWlzcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJ2FwaS9jb25maWd1cmF0aW9uJywgJGN0cmwuY29uZmlndXJhdGlvbikudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJGN0cmwuY29uZmlndXJhdGlvbiwgci5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdDb25maWd1cmF0aW9uIFNhdmVkJyk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NvbWV0aGluZyB3ZW50IHdyb25nJywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdFcnJvciBTYXZpbmcgQ29uZmlndXJhdGlvbicpO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGh1Yi5zZXJ2ZXIuY29uZmlndXJhdGlvbkNoYW5nZSgkY3RybC5jb25maWd1cmF0aW9uKS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvbmZpZ3VyYXRpb24gc2VudCB0byBodWInKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdjb25maWd1cmF0aW9uU2V0dGluZycsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9jb25maWd1cmF0aW9uL2NvbmZpZ3VyYXRpb24tc2V0dGluZy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJGh0dHAnLCAndG9hc3RyJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxufVxyXG4pKCk7IiwiLy9kYXNoYm9hcmQuY29tcG9uZW50LmpzXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIoJGh0dHAsICRzY29wZSkge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGh1YiA9ICQuY29ubmVjdGlvbi5uYW1lTm90aWZpY2F0aW9uSHViO1xyXG5cclxuICAgICAgICAkY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGFzaGJvYXJkIGluaXQnKTtcclxuICAgICAgICAgICAgJC5jb25uZWN0aW9uLmh1Yi51cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6NDk5NjAvc2lnbmFsclwiO1xyXG5cclxuICAgICAgICAgICAgJC5jb25uZWN0aW9uLmh1Yi5zdGFydCgpLmRvbmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2h1YiBjb25uZWN0aW9uIHN0YXJ0ZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkY3RybC5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaHViLmNsaWVudC5hZGROYW1lID0gZnVuY3Rpb24gKGtpb3NrLCBwZXJzb24pIHtcclxuICAgICAgICAgICAgJGN0cmwudXBkYXRlVmlzaXRvcnMocGVyc29uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnVwZGF0ZVZpc2l0b3JzID0gZnVuY3Rpb24gKHBlcnNvbikge1xyXG4gICAgICAgICAgICAkY3RybC52aXNpdG9ycy5wb3AoKTtcclxuICAgICAgICAgICAgdmFyIHZpc2l0b3IgPSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IHBlcnNvbi5GaXJzdG5hbWUsXHJcbiAgICAgICAgICAgICAgICBsYXN0bmFtZTogcGVyc29uLkxhc3RuYW1lLFxyXG4gICAgICAgICAgICAgICAgemlwY29kZTogcGVyc29uLlppcGNvZGUsXHJcbiAgICAgICAgICAgICAgICBkYXRlQ3JlYXRlOiBwZXJzb24uRGF0ZUNyZWF0ZWQsXHJcbiAgICAgICAgICAgICAgICBmdXp6eU1hdGNoVmFsdWU6IHBlcnNvbi5GdXp6eU1hdGNoVmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkY3RybC52aXNpdG9ycy51bnNoaWZ0KHZpc2l0b3IpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkY3RybC5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCdhcGkvdmlzaXRvci9zdW1tYXJ5JykudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc3VtbWFyeSA9IHIuZGF0YTtcclxuICAgICAgICAgICAgICAgICRjdHJsLnZpc2l0b3JzID0gci5kYXRhLnZpc2l0b3JzOyBcclxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc29tZXRoaW5nIHdlbnQgd3JvbmcnLCBlcnIpO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCdkYXNoYm9hcmQnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJGh0dHAnLCAnJHNjb3BlJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxuXHJcbn1cclxuKSgpOyIsIi8vZGlyZWN0aXZlcy5tb2R1bGVzLmpzXHJcbihmdW5jdGlvbigpIHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycsIFtdKTsgXHJcbn0pKCk7IiwiLy9zdFRhYmxlLmRpcmVjdGl2ZS5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwLmRpcmVjdGl2ZXMnKTtcclxuXHJcbiAgICBtb2R1bGUuZGlyZWN0aXZlKCdzdFN1Ym1pdFNlYXJjaCcsIFsnc3RDb25maWcnLCAnJHRpbWVvdXQnLCAnJHBhcnNlJywgZnVuY3Rpb24gKHN0Q29uZmlnLCAkdGltZW91dCwgJHBhcnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWlyZTogJ15zdFRhYmxlJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5iaW5kKCdjbGljaycsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVDdHJsID0gY3RybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVDdHJsLnBpcGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIG1vZHVsZS5kaXJlY3RpdmUoXCJjbGVhcktleVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMsIGN0cmwpIHtcclxuICAgICAgICAgICAgICAgIGVsLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAyNykgeyByZXR1cm47IH0gLy8gY2hlY2sga2V5IGhvdyB5b3Ugd2FudFxyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBtb2R1bGUuZGlyZWN0aXZlKFwic3RSZXNldFNlYXJjaFwiLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmU6IFsnXnN0VGFibGUnLCAnXm5nTW9kZWwnXSxcclxuICAgICAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5iaW5kKCdjbGljaycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gY3RybHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0cmwgPSBjdHJsc1swXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChtb2RlbC4kdmlld1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09ICdwYWdlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC4kdmlld1ZhbHVlW2tleV0gPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgXy5pbmNsdWRlcyhrZXkudG9Mb3dlckNhc2UoKSwgJ3BhZ2UnKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLiR2aWV3VmFsdWVba2V5XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlU3RhdGUgPSBjdHJsLnRhYmxlU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVTdGF0ZS5zZWFyY2gucHJlZGljYXRlT2JqZWN0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlU3RhdGUucGFnaW5hdGlvbi5zdGFydCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHJsLnBpcGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIG1vZHVsZS5kaXJlY3RpdmUoXCJzdENsZWFyS2V5XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICAgICAgcmVxdWlyZTogWydec3RUYWJsZScsICdebmdNb2RlbCddLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZ01vZGVsID0gY3RybHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN0cmwgPSBjdHJsc1swXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSAxMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3RybC5waXBlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMjcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNvbnRleHQuYXR0cmlidXRlc1snc3Qtc2VhcmNoJ10gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGVsZW1lbnQuY29udGV4dC5hdHRyaWJ1dGVzWydzdC1zZWFyY2gnXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVTdGF0ZSA9IGN0cmwudGFibGVTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlU3RhdGUuc2VhcmNoLnByZWRpY2F0ZU9iamVjdFtmaWVsZE5hbWVdID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0cmwucGlwZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlcigpOyAvLyB3aWxsIHVwZGF0ZSB0aGUgaW5wdXQgdmFsdWUgYXMgd2VsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG59XHJcbikoKTsiLCIvL2Rvbm9yLXVwbG9hZC5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm9ybURhdGFPYmplY3QoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgZmQuYXBwZW5kKCdmaWxlJywgZGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXIoJGh0dHAsIHRvYXN0cikge1xyXG4gICAgICAgICAgICB2YXIgJGN0cmwgPSB0aGlzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkb25vci11cGxvYWQgaW5pdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkY3RybC51cGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5pc0J1c3kgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwucmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdhcGkvZmlsZS9kb25vcicsIGZvcm1EYXRhT2JqZWN0KCRjdHJsLmZpbGUpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICRjdHJsLnJlc3VsdC5zdWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkY3RybC5yZXN1bHQubWVzc2FnZSA9IHIuZGF0YS5tZXNzYWdlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgJGN0cmwucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkY3RybC5yZXN1bHQubWVzc2FnZSA9IGVyci5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkY3RybC5maWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICRjdHJsLmlzQnVzeSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb2R1bGUuY29tcG9uZW50KCdkb25vclVwbG9hZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2Rvbm9yVXBsb2FkL2Rvbm9yLXVwbG9hZC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRodHRwJywgJ3RvYXN0cicsIGNvbnRyb2xsZXJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4pKCk7IiwiLy9maWx0ZXJzLmpzXHJcbihmdW5jdGlvbigpIHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5maWx0ZXIoJ3BlcmNlbnRhZ2UnLCBbJyRmaWx0ZXInLCBmdW5jdGlvbiAoJGZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIGRlY2ltYWxzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdudW1iZXInKShpbnB1dCAqIDEwMCwgZGVjaW1hbHMpICsgJyUnO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICB9XHJcbikoKTsiLCIvL3VzZXItZWRpdC5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcigkaHR0cCkge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VyIGVkaXQgaW5pdCcpO1xyXG4gICAgICAgICAgICBpZiAoJGN0cmwucmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwudXNlciA9ICRjdHJsLnJlc29sdmUudXNlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkaHR0cC5nZXQoJ2FwaS91c2VyL3JvbGVzJykudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwucm9sZXMgPSByLmRhdGE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkY3RybC5kaXNtaXNzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoISRjdHJsLnVzZXIuZW1haWwpICRjdHJsLnVzZXIuZW1haWwgPSAkY3RybC51c2VyLnVzZXJOYW1lICsgJ0BzcGxjZW50ZXIub3JnJztcclxuXHJcbiAgICAgICAgICAgIHZhciByb2xlcyA9IFtdO1xyXG4gICAgICAgICAgICBfLmZvckVhY2goJGN0cmwudXNlci5yb2xlcyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXMucHVzaChyb2xlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChyb2xlcy5sZW5ndGggPT09IDApIHJvbGVzLnB1c2goJ3VzZXInKTtcclxuICAgICAgICAgICAgJGN0cmwudXNlci5yb2xlcyA9IHJvbGVzO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJ2FwaS91c2VyL3VwZGF0ZScsICRjdHJsLnVzZXIpLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRjdHJsLnVzZXIsIHIuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5tb2RhbEluc3RhbmNlLmNsb3NlKCRjdHJsLnVzZXIpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzb21ldGhpbmcgd2VudCB3cm9uZycsIGVyci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuY29tcG9uZW50KCd1c2VyRWRpdCcsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICAgICAgaXRlbTogJzwnLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogJzwnLFxyXG4gICAgICAgICAgICAgICAgY2xvc2U6ICcmJyxcclxuICAgICAgICAgICAgICAgIGRpc21pc3M6ICcmJyxcclxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2U6ICc8J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC91c2Vycy91c2VyLWVkaXQuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiBbJyRodHRwJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxuXHJcbn1cclxuKSgpOyIsIi8vdXNlci1saXN0LmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKCRodHRwLCAkbW9kYWwsIHRvYXN0cikge1xyXG4gICAgICAgIHZhciAkY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgICRjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRjdHJsLnRpdGxlID0gJ1VzZXJzJztcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCdhcGkvdXNlcicpLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLnVzZXJzID0gci5kYXRhO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy9UT0RPOiByZXR1cm4gcm9sZXMgZGlzcGxheSBicm9rZW5cclxuICAgICAgICAgICAgJG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAndXNlckVkaXQnLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZ3M6IHsgbW9kYWxJbnN0YW5jZTogXCI8XCIgfSxcclxuICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXIgPSByZXN1bHQ7IFxyXG4gICAgICAgICAgICAgICAgdmFyIHJvbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gocmVzdWx0LnJvbGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyb2xlJywgcm9sZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVzLnB1c2gocm9sZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB1c2VyLnJvbGVzID0gW107IFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCcsIHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgdXNlci5yb2xlcyA9IFtdID0gcm9sZXM7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncm9sZXMnLCByb2xlcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgdXNlcik7XHJcbiAgICAgICAgICAgICAgICAkY3RybC51c2Vycy51bnNoaWZ0KHVzZXIpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ0NyZWF0ZWQgVXNlcicpO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZWRpdCA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ3VzZXJFZGl0JyxcclxuICAgICAgICAgICAgICAgIGJpbmRpbmdzOiB7IG1vZGFsSW5zdGFuY2U6IFwiPFwiIH0sXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7IHVzZXI6IGFuZ3VsYXIuY29weShpdGVtKSB9LFxyXG4gICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICB9KS5yZXN1bHQudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChpdGVtLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ1VwZGF0ZWQgVXNlcicpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlYXNvbikgeyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmRlbGV0ZSA9IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICRodHRwLmRlbGV0ZSgnYXBpL3VzZXIvJyArIGMuaWQpLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHggPSAkY3RybC51c2Vycy5pbmRleE9mKGMpO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwudXNlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZygnRGVsZXRlZCBVc2VyJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgndXNlckxpc3QnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdXNlcnMvdXNlci1saXN0LmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyckaHR0cCcsICckdWliTW9kYWwnLCAndG9hc3RyJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxuXHJcbn1cclxuKSgpOyIsIi8vdmlzaXRvci1lZGl0LmNvbXBvbmVudC5qc1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250cm9sbGVyKCRodHRwKSB7XHJcbiAgICAgICAgdmFyICRjdHJsID0gdGhpcztcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Zpc2l0b3IgZWRpdCBpbml0Jyk7XHJcblxyXG4gICAgICAgICAgICAkY3RybC50aXRsZSA9ICdOZXcgVmlzaXRvcic7XHJcblxyXG4gICAgICAgICAgICBpZiAoJGN0cmwucmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuaWQgPSAkY3RybC5yZXNvbHZlLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkY3RybC5pZCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCdhcGkvdmlzaXRvci8nICsgJGN0cmwuaWQpLnRoZW4oZnVuY3Rpb24ocikge1xyXG4gICAgICAgICAgICAgICAgICAgICRjdHJsLnZpc2l0b3IgPSByLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgJGN0cmwudGl0bGUgPSAoJGN0cmwudmlzaXRvci5maXJzdG5hbWUgKyAnICcgKyAkY3RybC52aXNpdG9yLmxhc3RuYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnInLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGN0cmwuZGlzbWlzcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmUgdmlzaXRvcicsICRjdHJsLnZpc2l0b3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnYXBpL3Zpc2l0b3InLCAkY3RybC52aXNpdG9yKS50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkY3RybC52aXNpdG9yLCByLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwubW9kYWxJbnN0YW5jZS5jbG9zZSgkY3RybC52aXNpdG9yKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc29tZXRoaW5nIHdlbnQgd3JvbmcnLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vZHVsZS5jb21wb25lbnQoJ3Zpc2l0b3JFZGl0JyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtOiAnPCcsXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiAnPCcsXHJcbiAgICAgICAgICAgICAgICBjbG9zZTogJyYnLFxyXG4gICAgICAgICAgICAgICAgZGlzbWlzczogJyYnLFxyXG4gICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZTogJzwnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3Zpc2l0b3JzL3Zpc2l0b3ItZWRpdC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJGh0dHAnLCBjb250cm9sbGVyXVxyXG4gICAgICAgIH0pO1xyXG59XHJcbikoKTsiLCIvL3Zpc2l0b3ItbGlzdC5jb21wb25lbnQuanNcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gY29udHJvbGxlcigkaHR0cCwgJG1vZGFsLCB0b2FzdHIpIHtcclxuICAgICAgICB2YXIgJGN0cmwgPSB0aGlzOyBcclxuICAgICAgICB2YXIgcGFnZVNpemVEZWZhdWx0ID0gMTA7XHJcbiAgICAgICAgdmFyIHRhYmxlU3RhdGVSZWY7XHJcblxyXG4gICAgICAgICRjdHJsLnNlYXJjaE1vZGVsID0ge1xyXG4gICAgICAgICAgICBwYWdlOiAxLFxyXG4gICAgICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemVEZWZhdWx0XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW5pdCB2aXNpdG9yIGxpc3QnKTtcclxuICAgICAgICAgICAgJGN0cmwudGl0bGUgPSAnVmlzaXRvcnMnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICd2aXNpdG9yRWRpdCcsXHJcbiAgICAgICAgICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2U6IFwiPFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwudmlzaXRvcnMudW5zaGlmdChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ0NyZWF0ZWQgVmlzaXRvcicpO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGN0cmwuZWRpdCA9IGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgJG1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAndmlzaXRvckVkaXQnLFxyXG4gICAgICAgICAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlOiBcIjxcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdi5pZFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodiwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdVcGRhdGVkIFZpc2l0b3InKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLmRlbGV0ZSA9IGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICAgICAgJGh0dHAuZGVsZXRlKCdhcGkvdmlzaXRvci8nICsgdi5pZCkudGhlbihmdW5jdGlvbihyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gJGN0cmwudmlzaXRvcnMuaW5kZXhPZih2KTtcclxuICAgICAgICAgICAgICAgICRjdHJsLnZpc2l0b3JzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoJ0RlbGV0ZWQgVmlzaXRvcicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRjdHJsLnNlYXJjaCA9IGZ1bmN0aW9uICh0YWJsZVN0YXRlKSB7XHJcbiAgICAgICAgICAgICRjdHJsLmxvYWRpbmcgPSB0cnVlOyBcclxuICAgICAgICAgICAgdGFibGVTdGF0ZVJlZiA9IHRhYmxlU3RhdGU7XHJcbiAgICAgICAgICAgICRjdHJsLnNlYXJjaE1vZGVsLmZ1enp5TWF0Y2hSYW5nZSA9ICRjdHJsLmZ1enp5TWF0Y2hSYW5nZTsgXHJcbiAgICAgICAgICAgICRjdHJsLnNlYXJjaE1vZGVsLmRheXNPbGQgPSAkY3RybC5kYXlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGFibGVTdGF0ZS5zb3J0LnByZWRpY2F0ZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLnNlYXJjaE1vZGVsLm9yZGVyQnkgPSB0YWJsZVN0YXRlLnNvcnQucHJlZGljYXRlO1xyXG4gICAgICAgICAgICAgICAgJGN0cmwuc2VhcmNoTW9kZWwub3JkZXJEaXJlY3Rpb24gPSB0YWJsZVN0YXRlLnNvcnQucmV2ZXJzZSA/ICdkZXNjJyA6ICdhc2MnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkaHR0cC5nZXQoJ2FwaS92aXNpdG9yJywgeyBwYXJhbXM6ICRjdHJsLnNlYXJjaE1vZGVsIH0pLnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICRjdHJsLnZpc2l0b3JzID0gci5kYXRhLnJlc3VsdHM7XHJcbiAgICAgICAgICAgICAgICAkY3RybC5zZWFyY2hNb2RlbCA9IHIuZGF0YTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAkY3RybC5zZWFyY2hNb2RlbC5yZXN1bHRzO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJGN0cmwubG9hZGluZyA9IGZhbHNlOyBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkY3RybC5wYWdlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGN0cmwuc2VhcmNoKHRhYmxlU3RhdGVSZWYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmNvbXBvbmVudCgndmlzaXRvckxpc3QnLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvdmlzaXRvcnMvdmlzaXRvci1saXN0LmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogWyckaHR0cCcsICckdWliTW9kYWwnLCAndG9hc3RyJywgY29udHJvbGxlcl1cclxuICAgICAgICB9KTtcclxufVxyXG4pKCk7Il19
